"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9645],{56919:function(e,n,t){t.d(n,{t:function(){return d}});var r=t(7297),i=t(51889),l=t(31230),o=t(52892);function a(){var e=(0,r.Z)(["\n  mutation deleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return a=function(){return e},e}(0,l.ZP)(a());var d=function(e){var n=(0,o.Z)({id:e.id,__typename:e.__typename||"Repl"}),t=function(e,t){return t.node.id===n};return(0,i._M)((function(){return[["data",i.Dx,"recentRepls",t],["data",n]]}))}},93053:function(e,n,t){t.d(n,{A:function(){return d}});var r=t(7297),i=t(31230),l=t(21767),o=t(16092);function a(){var e=(0,r.Z)(["\n  fragment ProfilePublicReplsRepl on Repl {\n    id\n    description(plainText: true)\n    isOwner\n    pinnedToProfile\n    timeCreated\n    title\n    url\n    iconUrl\n    ...ReplLinkRepl\n    user {\n      id\n      ...UserLinkUser\n    }\n    templateInfo {\n      label\n      iconUrl\n    }\n    multiplayers {\n      id\n      image\n      username\n    }\n  }\n  ","\n  ","\n"]);return a=function(){return e},e}var d=(0,i.Ps)(a(),l.Y,o._)},88436:function(e,n,t){t.d(n,{k:function(){return c}});var r=t(26042),i=t(7297),l=t(31230),o=t(50319);function a(){var e=(0,i.Z)(["\n  mutation ReplsDashboardDeleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return a=function(){return e},e}var d={},s=(0,l.Ps)(a());function c(e){var n=(0,r.Z)({},d,e);return o.D(s,n)}},22305:function(e,n,t){t.d(n,{Z:function(){return Tn}});var r=t(14924),i=t(26042),l=t(69396),o=t(10253),a=t(29815),d=t(35944),s=t(87603),c=t.n(s),u=t(67294),p=t(7297),f=t(31230);function m(){var e=(0,p.Z)(["\n  fragment ReplsDashboardFolderItemReplFolder on ReplFolder {\n    id\n    name\n    canEdit\n    pathnames\n    image\n    timeCreated\n    replsCount\n    folderType\n  }\n"]);return m=function(){return e},e}var h=(0,f.Ps)(m()),v=t(47966),b=t(37887),g=t(50319);function Z(){var e=(0,p.Z)(["\n  query ReplsDashboardReplFolderList(\n    $path: String!\n    $starred: Boolean\n    $after: String\n  ) {\n    currentUser {\n      id\n      username\n      replFolderByPath(path: $path) {\n        id\n        ownerId: userId\n        pathnames\n        canEdit\n        canCreateSubFolders\n        parent {\n          id\n          pathnames\n        }\n        folders {\n          id\n          ...ReplsDashboardFolderItemReplFolder\n        }\n        repls(starred: $starred, after: $after) {\n          items {\n            id\n            ...ReplsDashboardReplItemRepl\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Z=function(){return e},e}function x(){var e=(0,p.Z)(["\n  mutation ReplsDashboardCreateReplFolder(\n    $name: String!\n    $parentId: String\n    $teamId: Int\n  ) {\n    createReplFolder(name: $name, parentId: $parentId, teamId: $teamId) {\n      id\n      ...ReplsDashboardFolderItemReplFolder\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function y(){var e=(0,p.Z)(["\n  mutation ReplsDashboardMoveItemsToFolder(\n    $replIds: [String!]!\n    $folderIds: [String!]!\n    $destFolderId: String!\n    $teamId: Int\n  ) {\n    moveItemsToFolder(\n      replIds: $replIds\n      folderIds: $folderIds\n      destFolderId: $destFolderId\n      teamId: $teamId\n    ) {\n      ... on Repl {\n        __typename\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n      ... on ReplFolder {\n        __typename\n        id\n        ...ReplsDashboardFolderItemReplFolder\n      }\n    }\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}var w={},R=(0,f.Ps)(Z(),h,v.sH);var k=(0,f.Ps)(x(),h);var I=(0,f.Ps)(y(),v.sH,h);function S(e){var n=(0,i.Z)({},w,e);return g.D(I,n)}var D,C=t(92098),P=t(53201);!function(e){e.Repl="REPL",e.Folder="FOLDER"}(D||(D={}));var F=function(e){var n=e.repl,t=e.onMove,r=e.children,i=(0,o.Z)((0,P.c)({type:D.Repl,item:function(){return{id:n.id,type:D.Repl}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,r){if(r.didDrop()){var i=r.getDropResult();i&&t({to:i,repl:n})}}}),2),l=i[0].isDragging,a=i[1];return(0,d.BX)("div",{ref:a,style:{opacity:l?.5:1},children:[l?(0,d.tZ)(c(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}):null,r]})},T=function(e){var n=e.folder,t=e.onMove,r=e.children,i=(0,o.Z)((0,P.c)({type:D.Folder,item:function(){return{id:n.id,type:D.Folder}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,r){if(r.didDrop()){var i=r.getDropResult();i&&i.id!==n.id&&t({to:i,folder:n})}}}),2),l=i[0].isDragging,a=i[1];return(0,d.BX)("div",{ref:a,style:{opacity:l?.5:1},children:[l?(0,d.tZ)(c(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}):null,r]})},j=t(41664),B=t.n(j),M=t(90317);function E(){var e=(0,p.Z)(["\n  mutation ReplsDashboardFolderItemUpdate($folderId: String!, $name: String!) {\n    updateReplFolder(folderId: $folderId, name: $name) {\n      id\n      name\n      pathnames\n    }\n  }\n"]);return E=function(){return e},e}function _(){var e=(0,p.Z)(["\n  mutation ReplsDashboardFolderItemDelete($folderId: String!) {\n    deleteReplFolder(folderId: $folderId) {\n      id\n    }\n  }\n"]);return _=function(){return e},e}var X={},z=(0,f.Ps)(E());var U=(0,f.Ps)(_());var G=t(94184),N=t.n(G),V=t(95596),$=t(13331),A=t(13772),L=t(3401),W=t(4111),O=t(51438),H=t(52951),q=t(28668),Y=t(25171),Q=t(45697),K=t.n(Q),J=function(){function e(){(0,O.Z)(this,e),this._listeners=[]}return(0,H.Z)(e,[{key:"listenOnce",value:function(e,n,t){if(this._listeners.push([e,n,t]),!e.once)throw new Error("Target does not allow once");e.once(n,t)}},{key:"listen",value:function(e,n,t){this._listeners.push([e,n,t]),e.on?e.on(n,t):e.addListener?e.addListener(n,t):e.addEventListener&&e.addEventListener(n,t)}},{key:"destroy",value:function(){this._listeners.forEach((function(e){var n=(0,o.Z)(e,3),t=n[0],r=n[1],i=n[2];t.removeListener?t.removeListener(r,i):t.removeEventListener&&t.removeEventListener(r,i)}))}}]),e}(),ee=t(69346),ne=t(81255),te=t(15085),re=function(e){(0,q.Z)(t,e);var n=(0,Y.Z)(t);function t(){var e;return(0,O.Z)(this,t),e=n.apply(this,arguments),(0,r.Z)((0,W.Z)(e),"onSubmit",(function(n){e.props.hideOnSubmit&&e.props.hideModal&&e.props.hideModal(),e.props.onSubmit(n)})),(0,r.Z)((0,W.Z)(e),"getBodyAndTitle",(function(){var n=e.props.children;if(!Array.isArray(n)&&u.Children.count(n)<2)throw new Error("Expected title and body in ActionModal");var t=n[0];if(Array.isArray(t))throw new Error("title child cannot be an array");var r=u.cloneElement(t,{className:"action-modal-title "+("undefined"!==typeof t.className?t.className:"")}),i=n[1];if(Array.isArray(i))throw new Error("body child cannot be an array");return[r,u.cloneElement(i,{className:"action-modal-body"+(i.className||"")})]})),e}return(0,H.Z)(t,[{key:"componentDidMount",value:function(){var e=this;this._eventSubscriber=new J,this._eventSubscriber.listen(window.document,"keydown",(function(n){13!==n.keyCode||e.props.submitWithoutCtrl&&!n.ctrlKey&&!n.metaKey||e.props.disableSubmit||e.props.onSubmit()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscriber&&this._eventSubscriber.destroy(),this._eventSubscriber=null}},{key:"render",value:function(){var e=this,n=(0,o.Z)(this.getBodyAndTitle(),2),t=n[0],r=n[1];return(0,d.BX)(ee.Z,{css:[ne.l0.colWithGap(24)],children:[t,r,(0,d.BX)(ee.Z,{css:[ne.l0.rowWithGap(12),ne.l0.justify.end],children:[!this.props.hideCancel&&(0,d.tZ)(te.zx,{onClick:function(){e.props.onCancel&&e.props.onCancel(),e.props.hideModal&&e.props.hideModal()},text:this.props.cancelLabel||"Cancel"},"cancel"),(0,d.tZ)(te.zx,{colorway:this.props.deleteStyle?"negative":"primary",disabled:this.props.disableSubmit,onClick:this.onSubmit,text:this.props.submitLabel||"Ok"},"actionModalCta")]})]})}}]),t}(u.Component);(0,r.Z)(re,"propTypes",{hideModal:K().func.isRequired}),(0,r.Z)(re,"defaultProps",{autoFocus:!1});var ie=t(28898),le=t(40963),oe=t(88652),ae=t(59369),de=t(64080),se=t(57704),ce=t(83074),ue=t(90160),pe=t(18645),fe=t(99843),me=t(61193),he=t(70917),ve=t(18757),be=t(88046),ge=(0,he.iv)([{"&&:hover button":[te.l0.backgroundColor.backgroundHigher]}]);function Ze(e){var n=e.repl,t=e.editRepl,r=e.deleteRepl,i=e.forkRepl,l=e.moveItem,o=e.togglePinnedToProfile,a=e.removeMultiplayerRepl,s=(0,me.c)("flag-repl-analytics").enabled,c=n.currentUserPermissions,u=[];if((c.changeTitle||c.changeDescription)&&u.push({label:"Edit",value:"edit",icon:(0,d.tZ)(de.Z,{})}),u.push({label:"Cover page",value:"coverpage",link:(0,be.j3)(n),icon:(0,d.tZ)(ve.Z,{})}),c.containerWrite&&s&&n.analyticsUrl){var p,f={href:null!==(p=n.analyticsUrl)&&void 0!==p?p:""};u.push({label:"Analytics",value:"analytics",link:f,icon:(0,d.tZ)(fe.Z,{})})}return c.fork&&u.push({label:"Fork",value:"fork",icon:(0,d.tZ)(ce.Z,{})}),c.move&&u.push({label:"Move",value:"move",icon:(0,d.tZ)(L.Z,{})}),c.pin&&u.push({label:n.pinnedToProfile?"Unpin":"Pin",value:"pin",icon:(0,d.tZ)(ue.Z,{})}),c.delete&&u.push({label:"Delete",value:"delete",isDestructive:!0,icon:(0,d.tZ)(se.Z,{})}),c.leaveMultiplayer&&u.push({label:"Remove",value:"remove",isDestructive:!0,icon:(0,d.tZ)(pe.Z,{})}),(0,d.tZ)(te.G7,{css:ge,children:(0,d.tZ)(ae.Z,{label:"Repl Actions",orientation:"horizontal",items:u,onItemClick:function(e){switch(e.value){case"edit":t();break;case"coverpage":break;case"fork":i();break;case"move":l();break;case"pin":o();break;case"remove":a();break;case"delete":r()}}})})}function xe(e){var n=e.renameFolder,t=e.moveItem,r=e.deleteFolder,i=[{value:"rename",label:"Rename",icon:(0,d.tZ)(de.Z,{})},{value:"move",label:"Move",icon:(0,d.tZ)(L.Z,{})},{value:"delete",label:"Delete",isDestructive:!0,icon:(0,d.tZ)(se.Z,{})}];return(0,d.tZ)(te.G7,{css:ge,children:(0,d.tZ)(ae.Z,{label:"Folder Actions",orientation:"horizontal",items:i,onItemClick:function(e){switch(e.value){case"rename":n();break;case"move":t();break;case"delete":r()}}})})}var ye=t(93058),we=t(9252),Re=t(37424),ke=function(e){var n=e.onSubmit,t=e.hideModal,r=e.defaultValue,i=e.loading,l=e.errorMessage,a=(0,o.Z)(u.useState(r||""),2),s=a[0],c=a[1],p=u.useRef(null);u.useEffect((function(){(null===p||void 0===p?void 0:p.current)&&p.current.select()}),[]);var f=function(){if(!l)return n(s);(null===p||void 0===p?void 0:p.current)&&p.current.select()},m=(0,Re.H)();return(0,d.BX)(te.G7,{css:[te.l0.colWithGap(24)],children:[(0,d.tZ)(te.h4,{variant:"headerDefault",level:2,css:te.l0.maxWidth("100%"),children:"New Folder"}),(0,d.BX)(te.G7,{css:[te.l0.colWithGap(4)],children:[(0,d.tZ)("label",{htmlFor:m("title"),children:(0,d.tZ)(te.xv,{color:"dimmer",variant:"small",children:"Title"})}),(0,d.tZ)(te.II,{disabled:i,value:s,placeholder:"Name your folder",onChange:function(e){c(e.currentTarget.value)},name:"folderName",ref:p,onKeyDown:function(e){"Enter"===e.key&&f()},id:m("title")})]}),(0,d.BX)(te.G7,{css:[te.l0.rowWithGap(12),te.l0.justify.end],children:[(0,d.tZ)(te.zx,{text:"Cancel",onClick:t}),(0,d.tZ)(te.zx,{iconLeft:(0,d.tZ)(we.Z,{}),disabled:i,onClick:f,text:i?"Creating Folder...":"Create Folder",colorway:"primary"})]})]})},Ie=t(47568),Se=t(70655),De=t(11163),Ce=t.n(De),Pe=t(93604);function Fe(){var e=(0,p.Z)(["\n  fragment ReplsDashboardMoveItemReplFolder on ReplFolder {\n    id\n    pathnames\n    folderType\n    name\n    parentId\n    timeCreated\n  }\n"]);return Fe=function(){return e},e}function Te(){var e=(0,p.Z)(["\n  query ReplsDashboardMoveItemModalFolder($id: String!, $teamId: Int) {\n    currentUser {\n      id\n      replFolder(id: $id, teamId: $teamId) {\n        id\n        folders {\n          id\n          ...ReplsDashboardMoveItemReplFolder\n        }\n      }\n    }\n  }\n  ","\n"]);return Te=function(){return e},e}var je={},Be=(0,f.Ps)(Fe()),Me=(0,f.Ps)(Te(),Be);var Ee,_e=t(33773),Xe={id:"__ROOT_ID__",name:"(home)/",pathnames:["(home)/"],canEdit:!1,timeCreated:null},ze=function(e){var n=e.folder,t=e.onSelect,r=e.onNavigate,i=e.isSelected,l=e.isBack,o=void 0!==l&&l;return(0,d.BX)("div",{onClick:function(){t&&t(n)},className:"jsx-d14db538a7b86c86 "+(N()("small-folder-row-container",{"is-selected":i})||""),children:[(0,d.BX)("div",{className:"jsx-d14db538a7b86c86 small-folder-title",children:[(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-folder-icon-container",children:o?(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-back-folder-icon",children:(0,d.tZ)(_e.Z,{})}):(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-folder-icon",children:(0,d.tZ)(L.Z,{})})}),(0,d.tZ)("a",{onClick:function(e){return r?r(n,e):function(){}},className:"jsx-d14db538a7b86c86",children:n.name})]}),(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-folder-time",children:n.timeCreated?(0,Pe.F)(n.timeCreated):""}),(0,d.tZ)(c(),{id:"d14db538a7b86c86",children:".small-folder-row-container.jsx-d14db538a7b86c86{height:40px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px}.small-folder-row-container.jsx-d14db538a7b86c86:hover{cursor:pointer;background-color:var(--background-root)}.small-folder-icon-container.jsx-d14db538a7b86c86{height:20px;width:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-back-folder-icon.jsx-d14db538a7b86c86{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg);width:17px}.small-folder-icon.jsx-d14db538a7b86c86{width:20px}.small-folder-title.jsx-d14db538a7b86c86{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-folder-title.jsx-d14db538a7b86c86 a.jsx-d14db538a7b86c86{margin-left:20px;color:var(--foreground-dimmer);border-bottom:none;color:inherit}.small-folder-time.jsx-d14db538a7b86c86{font-size:12px;color:var(--foreground-dimmer)}.small-folder-row-container.is-selected.jsx-d14db538a7b86c86:hover,.is-selected.jsx-d14db538a7b86c86{background-color:var(--accent-primary-default);color:var(--background-higher)}.is-selected.jsx-d14db538a7b86c86 .small-folder-time.jsx-d14db538a7b86c86{color:inherit}"})]})},Ue=function(e){var n,t,r=e.item,a=e.isRepl,s=e.teamId,p=e.hideModal,f=/\/@([^/]*)/.exec(Ce().asPath||""),m=f?f[1]:null,h=s&&m?function(e,n){return{id:"__TEAM__".concat(e,"__"),name:"@".concat(n),pathnames:["@".concat(n)],canEdit:!1,timeCreated:null}}(s,m):Xe,v=(0,o.Z)(u.useState(null),2),g=v[0],Z=v[1],x=(0,o.Z)(u.useState(h),2),y=x[0],w=x[1],R=(0,o.Z)(u.useState([]),2),k=R[0],I=R[1],S=function(e){var n=(0,i.Z)({},je,e);return b.a(Me,n)}({fetchPolicy:"cache-and-network",variables:{id:y.id,teamId:s},ssr:!1,notifyOnNetworkStatusChange:!0}).data,D=function(e){Z(e===g?null:e)},C=function(e,n){n.stopPropagation(),e.pathnames.length>y.pathnames.length?k.push(y):k.pop(),w(e),Z(e),I(k)},P=function(){var n=(0,Ie.Z)((function(){var n,t;return(0,Se.__generator)(this,(function(i){return n=[],t=[],a?n.push(r.id):t.push(r.id),e.onSubmit({variables:{destFolderId:g?g.id:"",replIds:n,folderIds:t,teamId:s}}),[2]}))}));return function(){return n.apply(this,arguments)}}(),F=((null===S||void 0===S||null===(n=S.currentUser)||void 0===n||null===(t=n.replFolder)||void 0===t?void 0:t.folders)||[]).filter((function(e){return!("Unnamed"===e.name&&null===e.parentId)&&e.folderType===M.RV.Default&&(!!a||e.id!==r.id)})).map((function(e){return(0,l.Z)((0,i.Z)({},e),{pathnames:e.pathnames.slice(1)})})),T=k[k.length-1]||h,j=g?g.id:"",B="name"in r?r.name:r.title;return(0,d.BX)(re,{modalStyle:{width:"550px"},onSubmit:P,hideOnSubmit:!0,submitLabel:"Move",hideModal:p,children:[(0,d.BX)("div",{children:["Move ",B," to:"]}),(0,d.BX)("div",{children:[(0,d.BX)("div",{className:"jsx-424e91159ff60 folder-picker-container",children:[y.pathnames&&y.pathnames.join()!==h.pathnames.join()?(0,d.tZ)(ze,{folder:(0,l.Z)((0,i.Z)({},T),{name:"(up one level)"}),isBack:!0,onNavigate:C,isSelected:j===T.id}):null,F?F.map((function(e){return(0,d.tZ)(ze,{folder:e,onSelect:D,onNavigate:C,isSelected:e.id===j},"move-folder-".concat(e.id))})):null,(0,d.tZ)(c(),{id:"424e91159ff60",children:".folder-picker-container.jsx-424e91159ff60{height:250px;border:1px solid gray;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:auto}"})]}),(0,d.BX)("div",{children:["Moving to:"," ",g?g.pathnames[g.pathnames.length-1]:y.pathnames[y.pathnames.length-1]||"(home)/"]})]})]})},Ge=t(1879),Ne=t(1144),Ve=t(85485);!function(e){e[e.RenameFolder=0]="RenameFolder",e[e.DeleteFolder=1]="DeleteFolder",e[e.MoveItem=2]="MoveItem"}(Ee||(Ee={}));var $e=function(e){var n=e.folder;if(n.folderType===M.RV.Multiplayer)return(0,d.tZ)(V.Z,{size:20});if(n.folderType===M.RV.Boosts)return(0,d.tZ)($.Z,{size:20});if(n.folderType===M.RV.AlwaysOn)return(0,d.tZ)(A.Z,{size:20});if(n.folderType===M.RV.Team){var t=n.image?{url:n.image}:void 0;return(0,d.tZ)(ie.Z,{image:t})}return n.folderType===M.RV.AllTeams?(0,d.tZ)(V.Z,{size:20}):(0,d.tZ)(L.Z,{size:20})},Ae=function(e){var n=e.folder,t=e.teamId,a=e.username,s=e.onDelete,c=e.onMove,p=(0,u.useState)(null),f=p[0],m=p[1],h=(0,ye.Z)(),v=h.showConfirm,b=h.showError,Z=(0,u.useState)(""),x=Z[0],y=Z[1],w=(0,o.Z)(function(e){var n=(0,i.Z)({},X,e);return g.D(z,n)}(),2),R=w[0],k=w[1],I=(0,o.Z)(function(e){var n=(0,i.Z)({},X,e);return g.D(U,n)}({variables:{folderId:n.id}}),2),D=I[0],C=I[1],P=(0,o.Z)(S(),2),F=P[0],T=P[1],j=[k.error,C.error,T.error];(0,u.useEffect)((function(){var e=!0,n=!1,t=void 0;try{for(var r,i=j[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var l=r.value;l&&(l.graphQLErrors[0]&&l.graphQLErrors[0].message?b(l.graphQLErrors[0].message):b("Something went wrong when updating this folder"))}}catch(o){n=!0,t=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}),j),(0,u.useEffect)((function(){C.data&&(v("Folder deleted"),s())}),[C.data]),(0,u.useEffect)((function(){k.data&&v("Folder renamed")}),[k.data]),(0,u.useEffect)((function(){T.data&&(v("Folder moved"),c())}),[T.data]);var E=n.pathnames.slice(1).join("/");return(0,d.BX)(d.HY,{children:[(0,d.BX)(te.G7,{css:[te.l0.position.relative,te.l0.flex.growAndShrink(1)],children:[(0,d.tZ)(B(),(0,l.Z)((0,i.Z)({passHref:!0},a&&n.folderType!==M.RV.Team&&void 0===t?(0,oe.wQ)({pathnames:n.pathnames,username:a}):(0,oe.xd)({pathnames:n.pathnames})),{children:(0,d.tZ)(te.Tg,{elevated:!0,tag:"a",className:N()("folder-item",{team:n.folderType===M.RV.Team}),css:[te.l0.rowWithGap(32),te.l0.justify.spaceBetween,te.l0.align.center,te.l0.p(12),te.l0.color.foregroundDefault,te.l0.flex.growAndShrink(1),te.gU.listItem,(0,r.Z)({},(0,Ve.et)("mobileMax"),te.l0.borderRadius(8))],children:(0,d.BX)(te.G7,{css:[te.l0.rowWithGap(8),te.l0.align.center,te.l0.flex.growAndShrink(1),n.canEdit?te.l0.pr(32):null],children:[(0,d.tZ)(te.G7,{css:te.l0.p(2),children:(0,d.tZ)($e,{folder:n})}),(0,d.BX)(Ne.x,{variant:"subheadDefault",css:te.l0.flex.growAndShrink(1),children:[n.name,n.replsCount?" (".concat(n.replsCount,")"):null]})]})})})),n.canEdit?(0,d.tZ)(te.G7,{css:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)"},children:(0,d.tZ)(xe,{renameFolder:function(){return m(Ee.RenameFolder)},deleteFolder:function(){return m(Ee.DeleteFolder)},moveItem:function(){return m(Ee.MoveItem)}})}):null]}),(0,d.BX)(Ge.Z,{isOpen:null!==f,onRequestClose:function(){m(null)},children:[f===Ee.RenameFolder?(0,d.tZ)(ke,{defaultValue:n.name,hideModal:function(){return m(null)},onSubmit:function(e){!function(e){k.loading||R({variables:{folderId:n.id,name:e}})}(e),m(null)},loading:k.loading}):null,f===Ee.DeleteFolder?(0,d.BX)(re,{modalStyle:{maxWidth:"550px"},onSubmit:function(e){e&&e.preventDefault(),C.loading||(m(null),D())},deleteStyle:!0,submitLabel:C.loading?"Deleting folder...":"Yes, delete this folder",disableSubmit:x!==E,hideModal:function(){m(null)},children:[(0,d.tZ)(Ne.h,{variant:"headerDefault",level:2,children:"Delete folder"}),(0,d.tZ)("div",{children:(0,d.BX)(te.G7,{css:[te.l0.colWithGap(24)],children:[(0,d.tZ)(Ne.x,{multiline:!0,children:"Are you sure you want to delete this folder? This will remove all Repls and folders within. This cannot be undone."}),(0,d.BX)(te.G7,{css:[te.l0.colWithGap(8)],children:[(0,d.tZ)("label",{htmlFor:"folderPath",children:(0,d.BX)(Ne.x,{color:"dimmer",variant:"small",children:["Type the folder path (",E,") to delete"]})}),(0,d.tZ)(le.ZP,{id:"folderPath",disabled:!!C.loading,autoFocus:!0,value:x,onChange:function(e){return y(e.currentTarget.value)}})]})]})})]}):null,f===Ee.MoveItem?(0,d.tZ)(Ue,{item:n,teamId:t,isRepl:!1,onSubmit:function(e){T.loading||F(e)},hideModal:function(){return m(null)}}):null]})]})},Le=t(74591),We=t(80658),Oe=t(75504),He=t(59292),qe=t(56919),Ye=t(60977),Qe=t(71471),Ke=t(30888),Je=t(49051),en=t(88436),nn=t(99534),tn=t(76427),rn=t.n(tn),ln=t(80498),on=function(e){(0,q.Z)(t,e);var n=(0,Y.Z)(t);function t(){var e;return(0,O.Z)(this,t),e=n.apply(this,arguments),(0,r.Z)((0,W.Z)(e),"onValidation",(function(n,t){e.validations[n]=t})),(0,r.Z)((0,W.Z)(e),"onSubmit",(function(n){for(var t in n.preventDefault(),e.inputs)if(e.inputs[t].validateNow(),e.validations[t])return void e.inputs[t].focus();e.props.onSubmit(n)})),(0,r.Z)((0,W.Z)(e),"register",(function(n,t){e.inputs[n]=t})),(0,r.Z)((0,W.Z)(e),"validations",{}),(0,r.Z)((0,W.Z)(e),"inputs",{}),e}return(0,H.Z)(t,[{key:"getChildContext",value:function(){return{validatedForm:{register:this.register,onValidation:this.onValidation}}}},{key:"render",value:function(){var e=this.props,n=e.Component,t=e.children,r=(0,nn.Z)(e,["Component","children"]);return(0,d.tZ)(n,(0,l.Z)((0,i.Z)({},rn()(r,["onSubmit"])),{onSubmit:this.onSubmit,children:t}))}}]),t}(u.Component);(0,r.Z)(on,"childContextTypes",{validatedForm:K().object}),(0,r.Z)(on,"defaultProps",{Component:"form"});var an=function(e){(0,q.Z)(t,e);var n=(0,Y.Z)(t);function t(){return(0,O.Z)(this,t),n.apply(this,arguments)}return(0,H.Z)(t,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,n=this.context.validatedForm,t=n.onValidation,r=n.register;return(0,d.tZ)(ln.a,(0,l.Z)((0,i.Z)({},rn()(this.props,["onValidation","ref"])),{onValidation:function(n){return t(e.props.name,n)},ref:function(n){e.input=n,r(e.props.name,n)},theme:this.props.theme}))}}]),t}(u.Component);(0,r.Z)(an,"contextTypes",{validatedForm:K().object.isRequired}),(0,r.Z)(an,"defaultProps",{theme:"replitLight"});var dn,sn=function(e){(0,q.Z)(t,e);var n=(0,Y.Z)(t);function t(e){var i;return(0,O.Z)(this,t),i=n.call(this,e),(0,r.Z)((0,W.Z)(i),"onSubmit",(function(){i.props.onSubmit(i.state)})),i.state={title:i.props.repl.title,description:i.props.repl.description||""},function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];t.forEach((function(n){e["on".concat(n[0].toUpperCase()).concat(n.slice(1),"Change")]=function(t){var i;i=t&&t.target&&void 0!==t.currentTarget.value?t.currentTarget.value:t,e.setState((0,r.Z)({},n,i))}}))}((0,W.Z)(i),"title","description"),i}return(0,H.Z)(t,[{key:"render",value:function(){return(0,d.BX)(re,{hideModal:this.props.hideModal,onCancel:this.props.hideModal,onSubmit:this.onSubmit,submitLabel:"Save",children:[(0,d.tZ)(Ne.h,{variant:"headerDefault",level:2,children:"Edit Repl"}),(0,d.BX)(on,{onSubmit:this.onSubmit,css:[ne.l0.colWithGap(24)],children:[(0,d.BX)(ee.Z,{css:[ne.l0.colWithGap(8)],children:[(0,d.tZ)("label",{htmlFor:"replTitle",children:(0,d.tZ)(Ne.x,{variant:"small",color:"dimmer",children:"Title"})}),(0,d.tZ)(le.ZP,{id:"replTitle",autoFocus:!0,name:"title",placeholder:"Name your Repl",validator:"replTitle",value:this.state.title,onChange:this.onTitleChange})]}),(0,d.BX)(ee.Z,{css:[ne.l0.colWithGap(8)],children:[(0,d.tZ)("label",{htmlFor:"replDescription",children:(0,d.tZ)(Ne.x,{variant:"small",color:"dimmer",children:"Description"})}),(0,d.tZ)(le.ZP,{id:"replDescription",name:"description",placeholder:"What does this Repl do?",validator:"replDescription",value:this.state.description,onChange:this.onDescriptionChange})]})]})]})}}]),t}(u.Component),cn=sn,un=t(70804);!function(e){e.EditRepl="EditRepl",e.ForkRepl="ForkRepl",e.DeleteRepl="DeleteRepl",e.RemoveRepl="RemoveRepl",e.MoveItem="MoveItem"}(dn||(dn={}));var pn,fn=function(e){var n=e.selected,t=e.onClick,r=e.isDarkColorScheme?te.TV.yellowStrongest:te.TV.yellowDimmest;return(0,d.tZ)(te.hU,{className:"replStar",onClick:t,css:[te.l0.color.foregroundDimmer,{":hover":{color:r}}],alt:n?"Unstar":"Star",children:n?(0,d.tZ)(Je.StarFilled,{color:r}):(0,d.tZ)(Je.Star,{})})},mn=function(e){var n,t,a,s=e.repl,c=e.position,p=e.onDelete,f=e.onMove,m=e.onPinToggle,h=void 0===m?function(){}:m,b=e.teamId,g=(0,Ke.F)().isDarkColorScheme,Z="/replsDashboard"===(0,De.useRouter)().pathname,x=void 0===b,y=function(){var e=(0,o.Z)(u.useState(!1),2),n=e[0],t=e[1],r=(0,o.Z)(u.useState(!1),2),i=r[0],l=r[1],a=u.useRef(!1);return u.useEffect((function(){n&&(a.current=!0);var e=setTimeout((function(){l(n)}),250);return function(){clearTimeout(e)}}),[n]),(0,d.BX)(un.Z,{isOpen:i,onClickOutside:function(){return l(!1)},padding:0,showArrow:!0,placement:"bottom-start",maxWidth:360,gap:8,children:[(0,d.BX)(te.G7,{css:[te.l0.py(4),te.l0.rowWithGap(4)],onMouseEnter:function(){return t(!0)},onMouseLeave:function(){return t(!1)},children:[s.isPrivate?(0,d.tZ)(Je.LockLocked,{size:16,color:te.TV.foregroundDimmest}):(0,d.tZ)(Je.Globe,{size:16,color:te.TV.foregroundDimmest}),(0,d.tZ)(te.xv,{color:"dimmest",children:s.isPrivate?"Private":"Public"})]}),(0,d.BX)(te.G7,{onMouseEnter:function(){return t(!0)},onMouseLeave:function(){return t(!1)},onClick:function(e){return e.preventDefault()},css:te.l0.p(8),children:[(0,d.tZ)(te.xv,{multiline:!0,css:{marginBottom:6},children:s.isPrivate?"Only you and invited multiplayers can see this Repl":"Anyone can see this Repl"}),ie?(0,d.tZ)(te.zx,{text:s.isPrivate?"Make public":"Make private",iconLeft:s.isPrivate?(0,d.tZ)(Je.Globe,{}):(0,d.tZ)(Je.LockLocked,{}),onClick:function(){return w()}}):null]})]})},w=function(){if(!C.loading){var e=!s.isPrivate;D({variables:{input:{id:s.id,isPrivate:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,l.Z)((0,i.Z)({},s),{isPrivate:e})}}}).then((function(n){n.errors?ee(n.errors[0].message):J(e?"Repl made private":"Repl made public")})),(0,Ye.j)(Ye.U3.PRIVATE_TOGGLED,{enabled:e,source:"my_repls"})}},R="Allowed"===s.currentUserPermissions.changePrivacy&&null!=b,k=(0,Oe.n)({onPowerUpSuccess:w,context:"my_repls",isPrivate:s.isPrivate,teamReplPermissionOverride:R}).modalProps,I=(0,o.Z)((0,v.G5)(),2),D=I[0],C=I[1],P=(0,o.Z)(S({onCompleted:function(e){e.moveItemsToFolder.every((function(e){return"Repl"===e.__typename||"ReplFolder"===e.__typename}))?(J("Repl moved"),f()):ee("Something went wrong")},onError:function(e){ee(e.message)}}),2),F=P[0],T=P[1],j=(0,o.Z)((0,He.Z)({onError:function(){ee("Error forking repl")}}),2),E=j[0],_=j[1].loading,X=(0,o.Z)((0,v.x$)({onCompleted:function(e){"Repl"===e.pinReplToProfile2.__typename&&e.pinReplToProfile2.pinnedToProfile?(J((0,d.BX)("span",{children:["Repl pinned to profile",(0,d.tZ)("br",{}),s.user&&Z?(0,d.tZ)("a",{href:s.user.url,target:"_blank",children:"View Profile"}):null]})),h()):ee("Something went wrong")},onError:function(e){return ee(e.message)},variables:{replId:s.id}}),2),z=X[0],U=X[1],G=(0,o.Z)((0,v.cM)({onCompleted:function(e){"Repl"!==e.unpinReplFromProfile2.__typename||e.unpinReplFromProfile2.pinnedToProfile?ee("Something went wrong"):(J((0,d.BX)("span",{children:["Repl unpinned from profile",(0,d.tZ)("br",{}),s.user&&Z?(0,d.tZ)("a",{href:s.user.url,target:"_blank",children:"View Profile"}):null]})),h())},onError:function(e){return ee(e.message)},variables:{replId:s.id}}),2),N=G[0],V=G[1],$=(0,o.Z)((0,en.k)({onCompleted:function(e){"Repl"===e.deleteRepl.__typename?(J("Repl deleted"),p()):ee("Something went wrong")},onError:function(e){return ee(e.message)},variables:{id:s.id},update:(0,qe.t)({id:s.id})}),2),A=$[0],L=$[1],W=(0,o.Z)((0,v.CW)({onCompleted:function(e){"Repl"===e.removeSharedRepl.__typename?(J("Repl removed"),p()):ee("Something went wrong")},onError:function(e){return ee(e.message)},variables:{id:s.id}}),2),O=W[0],H=W[1],q=(0,o.Z)(u.useState(null),2),Y=q[0],Q=q[1],K=(0,ye.Z)(),J=K.showConfirm,ee=K.showError,ne=s.currentUserPermissions.star,ie=s.currentUserPermissions.changePrivacy!==M.HA.Disallowed;return(0,d.BX)(d.HY,{children:[(0,d.BX)(te.G7,{css:(a={position:"relative"," .replStar":{opacity:1}},(0,r.Z)(a,(0,Ve.et)("mobileMax"),{" .replStar":{opacity:s.isStarred?1:0}}),(0,r.Z)(a,":hover .replStar",{opacity:1}),(0,r.Z)(a,":focus-within .replStar",{opacity:1}),a),children:[(0,d.tZ)(B(),(0,l.Z)((0,i.Z)({},(0,be.aq)(s)),{passHref:!0,children:(0,d.BX)(te.Tg,{tag:"a",elevated:!0,css:[te.gU.listItem,te.l0.colWithGap(8),te.l0.color.foregroundDefault,te.l0.p(12),(0,r.Z)({},(0,Ve.et)("mobileMax"),[0===c?{borderRadius:"8px 8px 0 0"}:null,1===c?{borderRadius:"0 0 8px 8px"}:null,-1===c?{borderRadius:8}:null])],children:[(0,d.BX)(te.G7,{css:[te.l0.flex.row,te.l0.align.center,te.l0.flex.growAndShrink(1),ne?te.l0.pr(64):te.l0.pr(40),{gap:8}],children:[(0,d.tZ)(Qe.Z,{size:24,iconUrl:s.iconUrl,alt:""}),(0,d.BX)(te.G7,{css:[te.l0.flex.row,te.l0.align.baseline,te.l0.flex.growAndShrink(1),{gap:12}],children:[(0,d.tZ)(te.xv,{variant:"subheadDefault",css:[te.l0.flex.growAndShrink(1),te.l0.maxWidth("max-content")],children:s.title}),(0,d.BX)(te.G7,{css:[te.l0.rowWithGap(12),te.l0.display.none,(0,r.Z)({},(0,Ve.et)("mobileMax"),te.l0.display.flex)],children:[!s.isOwner&&s.user?(0,d.BX)(te.xv,{color:"dimmer",children:["@",s.user.username]}):null,(0,d.tZ)(te.xv,{color:"dimmer",children:(0,oe.Sy)(new Date(s.timeCreated))})]})]})]}),(0,d.BX)(te.G7,{css:[te.l0.rowWithGap(12),te.l0.display.flex,(0,r.Z)({},(0,Ve.et)("mobileMax"),te.l0.display.none)],children:[!s.isOwner&&s.user?(0,d.BX)(te.xv,{color:"dimmer",children:["@",s.user.username]}):null,(0,d.tZ)(te.xv,{color:"dimmer",children:(0,oe.Sy)(new Date(s.timeCreated))})]}),(0,d.BX)(te.G7,{css:[te.l0.rowWithGap(12)],children:["Template"===s.publishedAs?(0,d.tZ)(d.HY,{}):null,(0,d.tZ)(y,{}),s.isBoosted?(0,d.BX)(te.G7,{css:[te.l0.py(4),te.l0.rowWithGap(4)],children:[(0,d.tZ)(Je.Rocket,{size:16,color:te.TV.foregroundDimmest}),(0,d.tZ)(te.xv,{color:"dimmest",children:"Boosted"})]}):null,s.isAlwaysOn?(0,d.BX)(te.G7,{css:[te.l0.py(4),te.l0.rowWithGap(4)],children:[(0,d.tZ)(Je.SmallCircle,{size:16,color:te.TV.accentPositiveDefault,css:{filter:"drop-shadow(0 0 4px ".concat(te.TV.accentPositiveDefault,")")}}),(0,d.tZ)(te.xv,{color:"dimmest",children:"Always On"})]}):null,s.publishedAs?(0,d.BX)(te.G7,{css:[te.l0.py(4),te.l0.rowWithGap(4)],children:[(0,d.tZ)(Je.Publish,{size:16,color:te.TV.foregroundDimmest}),(0,d.tZ)(te.xv,{color:"dimmest",children:"Published"})]}):null]})]})})),(0,d.BX)(te.Tg,{elevated:!0,css:[te.l0.rowWithGap(2),te.l0.position.absolute,te.l0.top(12),te.l0.right(12),{backgroundColor:"transparent"}],children:[ne?(0,d.tZ)(fn,{selected:s.isStarred,onClick:function(){if(!C.loading){var e=!s.isStarred;D({variables:{input:{id:s.id,isStarred:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,l.Z)((0,i.Z)({},s),{isStarred:e})}}}).then((function(n){n.errors?ee(n.errors[0].message):J(e?"Repl starred":"Repl unstarred")}))}},isDarkColorScheme:g}):null,(0,d.tZ)(Ze,{editRepl:function(){return Q(dn.EditRepl)},deleteRepl:function(){return Q(dn.DeleteRepl)},removeMultiplayerRepl:function(){return Q(dn.RemoveRepl)},togglePinnedToProfile:function(){U.loading||V.loading||(s.pinnedToProfile?N():z())},moveItem:function(){return Q(dn.MoveItem)},forkRepl:function(){_||Q(dn.ForkRepl)},repl:s})]})]}),(0,d.tZ)(te.u_,{isOpen:Y===dn.EditRepl,onRequestClose:function(){return Q(null)},children:(0,d.tZ)(cn,{repl:s,onSubmit:function(e){Q(null),function(e){var n=e.title,t=e.description;C.loading||D({variables:{input:{id:s.id,title:n,description:t}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,l.Z)((0,i.Z)({},s),{title:n})}}}).then((function(e){e.errors?ee(e.errors[0].message):J("Repl Updated")}))}(e)},hideModal:function(){return Q(null)}})}),(0,d.tZ)(te.u_,{isOpen:Y===dn.DeleteRepl,onRequestClose:function(){return Q(null)},children:(0,d.tZ)(Le.Z,{name:s.title,entityType:"Repl",delete:function(){L.loading||A()},hideModal:function(){return Q(null)}})}),(0,d.tZ)(te.u_,{isOpen:Y===dn.MoveItem,onRequestClose:function(){return Q(null)},children:(0,d.tZ)(Ue,{item:s,teamId:b,isRepl:!0,onSubmit:function(e){T.loading||F(e)},hideModal:function(){return Q(null)}})}),(0,d.tZ)(te.u_,{isOpen:Y===dn.RemoveRepl,onRequestClose:function(){return Q(null)},children:(0,d.BX)(re,{onSubmit:function(){H.loading||O()},onCancel:function(){return Q(null)},hideModal:function(){return Q(null)},deleteStyle:!0,children:[(0,d.tZ)(te.h4,{variant:"headerDefault",level:1,children:"Leave multiplayer Repl"}),(0,d.tZ)(te.xv,{multiline:!0,children:"Are you sure you want to leave this multiplayer Repl? You will no longer be able to access its content."})]})}),(0,d.tZ)(te.u_,{isOpen:Y===dn.ForkRepl,onRequestClose:function(){return Q(null)},children:(0,d.tZ)(We.Z,{onFork:function(e,n,t,r){E({originId:s.id,teamId:e,title:n,description:t,isPrivate:r,forkToPersonal:!b||!e,trackingData:{forkSource:"replsDashboard"}})},initialTitle:s.title,initialDescription:null!==(t=s.description)&&void 0!==t?t:"",initialPrivacy:s.isPrivate,hideModal:function(){return Q(null)},teamContext:null===(n=s.user)||void 0===n?void 0:n.username})}),(0,d.tZ)(Oe.N,(0,l.Z)((0,i.Z)({},k),{uponPurchaseGoTo:!Z&&x?"profile":"cyclesPage"}))]})},hn=t(61756),vn=function(e){var n,t=e.onCreate,r=e.parentId,l=e.teamId,a=(0,u.useState)(!1),s=a[0],c=a[1],p=(0,ye.Z)(),f=p.showConfirm,m=p.showError,h=(0,o.Z)(function(e){var n=(0,i.Z)({},w,e);return g.D(k,n)}(),2),v=h[0],b=h[1];return(0,u.useEffect)((function(){b.data?(f("Folder created"),c(!1),t()):b.error&&m(b.error.graphQLErrors[0].message||"Something went wrong when creating this folder")}),[b.data,b.error,t,f,m]),(0,d.BX)(d.HY,{children:[(0,d.tZ)(Ge.Z,{isOpen:s,onRequestClose:function(){c(!1)},children:(0,d.tZ)(ke,{onSubmit:function(e){b.loading||v({variables:{name:e,parentId:r,teamId:l}})},hideModal:function(){c(!1)},loading:b.loading,errorMessage:null===(n=b.error)||void 0===n?void 0:n.message})}),(0,d.tZ)(hn.ZP,{iconLeft:(0,d.tZ)(we.Z,{}),text:"New folder",onClick:function(){return c(!0)}})]})},bn=function(e){var n=e.fillColor;return(0,d.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"back-folder-icon",viewBox:"0 0 22.3 18.4",children:[(0,d.tZ)("defs",{className:"jsx-c7f4b08f098b98b0",children:(0,d.tZ)(c(),{id:"c7f4b08f098b98b0",children:".back-folder-icon{height:100%;width:100%}.st1{fill:currentColor}"})}),(0,d.BX)("g",{children:[(0,d.tZ)("rect",{x:"1.8",y:"3.7",style:{fill:n},width:"18.5",height:"12.9"}),(0,d.BX)("g",{children:[(0,d.tZ)("path",{className:"st1",d:"M18.5,3V0.8h-6.8V3H1v14.6h20.3V3H18.5z M20,16.3H2.2V4.2h10.8V2.1h4.3v2.1H20V16.3z"}),(0,d.tZ)("rect",{x:"12",y:"2",className:"st1",width:"5.6",height:"2.2"})]})]}),(0,d.tZ)("g",{children:(0,d.tZ)("g",{children:(0,d.tZ)("g",{children:(0,d.tZ)("polygon",{className:"st1",points:"10.3,11.1 16.2,11.1 16.2,9.4 10.3,9.4 10.3,6.9 6.8,10.3 10.3,13.8 "})})})})]})},gn=function(e){var n=e.pathnames,t=e.username;return(0,d.tZ)(B(),(0,l.Z)((0,i.Z)({},t?(0,oe.wQ)({pathnames:n,username:t}):(0,oe.xd)({pathnames:n})),{children:(0,d.BX)("a",{className:"jsx-1af6696ec51d1108",children:[(0,d.tZ)("div",{className:"jsx-1af6696ec51d1108 icon",children:(0,d.tZ)(bn,{fillColor:"var(--background-root)"})}),(0,d.tZ)("div",{className:"jsx-1af6696ec51d1108",children:"(up 1 level)"}),(0,d.tZ)(c(),{id:"1af6696ec51d1108",children:".icon.jsx-1af6696ec51d1108{color:var(--foreground-dimmest);padding:0 8px}a.jsx-1af6696ec51d1108{min-height:64px;display:grid;grid-column-gap:20px;grid-template-columns:40px auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;padding:var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default);text-decoration:none;border:1px solid transparent}a.jsx-1af6696ec51d1108:hover{background-color:var(--background-default)}a.jsx-1af6696ec51d1108:active{background-color:var(--background-higher);border-color:var(--accent-primary-default)}"})]})}))},Zn=t(88662),xn=function(e){var n=e.folder,t=e.children,r=(0,o.Z)((0,Zn.L)({accept:[D.Folder,D.Repl],drop:function(){return n},collect:function(e){var t=e.getItem()||!1;return{isActive:e.isOver()&&e.canDrop()&&t&&t.id!==n.id}}}),2),i=r[0].isActive,l=r[1];return(0,d.BX)("div",{ref:l,className:"jsx-10566ad21346f48d "+(N()({"is-active":i})||""),children:[t,(0,d.tZ)(c(),{id:"10566ad21346f48d",children:".is-active.jsx-10566ad21346f48d{outline:2px solid var(--accent-primary-default)}"})]})},yn=t(91296),wn=t.n(yn),Rn=function(e){var n=e.loadMore,t=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e=wn()((function(){t.current&&function(e){var n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)}(t.current)&&n()}),200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[n]),(0,d.tZ)("div",{ref:t})},kn=function(e){var n=e.enabled,t=e.onClick,r=(0,Ke.F)().isDarkColorScheme,i=r?te.TV.yellowStrongest:te.TV.yellowDimmest,l=r?te.TV.yellowDefault:te.TV.yellowStronger;return(0,d.tZ)(te.G7,{css:[te.l0.transition.snappy,{height:28,width:44,backgroundColor:n?te.TV.yellowDimmest:te.TV.backgroundDefault,borderRadius:14,border:n?"1px solid "+te.TV.yellowDimmer:"1px solid "+te.TV.outlineDimmest}],onClick:t,title:"Toggle starred Repls",children:(0,d.tZ)(te.G7,{css:[te.l0.center,te.l0.transition.snappy,{margin:1,height:24,width:24,borderRadius:"100%",backgroundColor:n?l:te.TV.backgroundHigher,color:n?i:te.TV.foregroundDimmer,transform:n?"translateX(16px)":"translateX(0px)"}],children:n?(0,d.tZ)(Je.StarFilled,{size:16}):(0,d.tZ)(Je.Star,{size:16})})})},In=function(e){var n=e.starred,t=e.username,r=(0,De.useRouter)();return(0,d.tZ)(B(),{href:{pathname:r.pathname,query:(0,l.Z)((0,i.Z)({},n?{}:{starred:!0}),{username:t})},as:{pathname:"/@".concat(t),query:(0,l.Z)((0,i.Z)({},n?{}:{starred:!0}),{username:t})},scroll:!1,shallow:!0,children:(0,d.tZ)("a",{children:(0,d.tZ)(kn,{enabled:n,onClick:void 0})})})},Sn=t(47634),Dn=t(92002),Cn=t(44781),Pn=t(77365),Fn=(pn={display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:4,paddingBottom:4},(0,r.Z)(pn,(0,Ve.et)("mobileMax"),{gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:12,paddingBottom:24}),(0,r.Z)(pn,(0,Ve.et)("tabletMin"),{gridTemplateColumns:"repeat(3, minmax(0, 1fr))"}),pn),Tn=function(e){var n,t,r=e.path,s=e.starred,u=e.refetchRepls,p=function(e){var n=(0,i.Z)({},w,e);return b.a(R,n)}({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{path:r,starred:s},ssr:!1,notifyOnNetworkStatusChange:!0}),f=p.data,m=p.loading,h=p.refetch,v=p.fetchMore,g=(0,ye.Z)(),Z=g.showError,x=g.showConfirm,y=(0,o.Z)(S({onError:function(e){return Z(e.message)},update:function(e,n){var t=n.data;t&&D&&(t.moveItemsToFolder.forEach((function(n){e.modify({id:e.identify({__typename:"ReplFolder",id:D.id}),optimistic:!0,fields:{folders:function(e,t){var r=t.readField;if("ReplFolder"!==n.__typename)return e;var i=e.filter((function(e){return r("id",e)!==n.id}));return i},repls:function(e,t){var r=t.readField;if("Repl"!==n.__typename)return e;var i=e.items.filter((function(e){return r("id",e)!==n.id}));return{pageInfo:e.pageInfo,items:i}}}})})),x("Item moved!"))}}),2),k=y[0],I=y[1],D=f&&f.currentUser&&f.currentUser.replFolderByPath?f.currentUser.replFolderByPath:null,P=f&&(null===(n=f.currentUser)||void 0===n?void 0:n.username),j=1===(null===D||void 0===D?void 0:D.pathnames.length)&&""===(null===D||void 0===D?void 0:D.pathnames[0])||null===D||void 0===D?void 0:D.id,B=!!s,M=D&&D.folders.length+D.repls.items.length===0,E=D&&1===D.folders.length&&0===D.repls.items.length&&"multiplayer"===D.folders[0].pathnames[0],_=!B&&(M||E)&&((null===D||void 0===D?void 0:D.canEdit)||!j),X=D&&D.repls.pageInfo.nextCursor?D&&D.repls.pageInfo.nextCursor:null,z=(null===D||void 0===D?void 0:D.ownerId)&&(null===D||void 0===D?void 0:D.ownerId)!==(null===f||void 0===f||null===(t=f.currentUser)||void 0===t?void 0:t.id)?D.ownerId:void 0,U=function(e){if(!I.loading){var n="repl"in e?[e.repl.id]:[],t="folder"in e?[e.folder.id]:[];k({variables:{replIds:n,folderIds:t,destFolderId:e.to.id,teamId:z}})}};return!f&&m?(0,d.BX)("div",{className:"jsx-4c0e34e662959d8a spinner",children:[(0,d.tZ)(Pn.Z,{}),(0,d.tZ)(c(),{id:"4c0e34e662959d8a",children:".spinner.jsx-4c0e34e662959d8a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px;width:100%;height:100%}"})]}):D?(0,d.BX)("div",{className:"jsx-e3beffd3c693c100",children:[(0,d.BX)(te.G7,{css:[te.l0.flex.row,te.l0.justify.spaceBetween,te.l0.align.center,te.l0.pb(16)],children:[_||!D.canCreateSubFolders&&j?(0,d.tZ)("div",{className:"jsx-e3beffd3c693c100"}):(0,d.tZ)("div",{className:"jsx-e3beffd3c693c100 new-folder",children:(0,d.tZ)(vn,{onCreate:h,parentId:j,teamId:z})}),(0,d.tZ)(In,{starred:!!s,username:P})]}),(0,d.tZ)(C.Z,{children:(0,d.BX)("div",{className:"jsx-e3beffd3c693c100",children:[D.parent&&D.canEdit?(0,d.tZ)("div",{className:"jsx-e3beffd3c693c100",children:(0,d.tZ)(xn,{folder:D.parent,children:(0,d.tZ)(gn,{pathnames:D.parent.pathnames,username:P})})}):null,D.parent&&!D.canEdit?(0,d.tZ)(gn,{pathnames:D.parent.pathnames,username:P}):null,B?null:(0,d.tZ)(te.G7,{css:Fn,children:D.folders.map((function(e){return e.canEdit?(0,d.tZ)(xn,{folder:e,children:(0,d.tZ)(T,{onMove:U,folder:e,children:(0,d.tZ)(Ae,{onDelete:h,folder:e,teamId:z,username:P,onMove:h})})},e.id):(0,d.tZ)(Ae,{onDelete:h,teamId:z,username:P,onMove:h,folder:e},e.id)}))}),(0,d.tZ)(te.G7,{css:[te.l0.colWithGap(4)],children:D.repls.items.map((function(e,n){return(0,d.tZ)(F,{onMove:U,repl:e,children:(0,d.tZ)(mn,{position:D.repls.items.length>1?n/(D.repls.items.length-1):-1,repl:e,onMove:h,onDelete:h,onPinToggle:u,teamId:z})},e.id)}))}),_?(0,d.BX)("div",{className:"jsx-e3beffd3c693c100 cta-box",children:[(0,d.tZ)(Cn.Z,{children:"You don\u2019t seem to have anything in here."}),(0,d.tZ)("br",{className:"jsx-e3beffd3c693c100"}),(0,d.tZ)(Cn.Z,{children:"Let\u2019s change that!"}),(0,d.BX)("div",{className:"jsx-e3beffd3c693c100 button-container",children:[(0,d.tZ)("div",{className:"jsx-e3beffd3c693c100 cta-button",children:(0,d.tZ)(vn,{onCreate:h,parentId:j,teamId:z})}),(0,d.tZ)("div",{className:"jsx-e3beffd3c693c100 cta-button",children:(0,d.tZ)(Sn.Z,{trackingContext:"repl folder",children:(0,d.tZ)(hn.ZP,{iconLeft:(0,d.tZ)(Dn.Z,{}),text:"New Repl"})})})]})]}):null]})}),m?(0,d.tZ)("div",{className:"jsx-e3beffd3c693c100 load-more-spinner",children:(0,d.tZ)(Pn.Z,{})}):null,X&&!m?(0,d.tZ)(Rn,{loadMore:function(){X&&!m&&v({variables:{path:r,starred:s,after:X},updateQuery:function(e,n){var t=n.fetchMoreResult;return e&&e.currentUser&&e.currentUser.replFolderByPath&&t&&t.currentUser&&t.currentUser.replFolderByPath?{currentUser:(0,l.Z)((0,i.Z)({},t.currentUser),{replFolderByPath:(0,l.Z)((0,i.Z)({},t.currentUser.replFolderByPath),{repls:{pageInfo:(0,i.Z)({},t.currentUser.replFolderByPath.repls.pageInfo),items:(0,a.Z)(e.currentUser.replFolderByPath.repls.items).concat((0,a.Z)(t.currentUser.replFolderByPath.repls.items))}})})}:e}})}}):null,(0,d.tZ)(c(),{id:"e3beffd3c693c100",children:".cta-box.jsx-e3beffd3c693c100{margin:15px auto;padding:40px 25px 30px 25px;border-style:dashed;border-color:var(--outline-dimmer);-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;border-width:thin;text-align:center;max-width:500px}.empty-state.jsx-e3beffd3c693c100{margin:40px auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:var(--outline-default)}.button-container.jsx-e3beffd3c693c100{margin-top:15px}.cta-button.jsx-e3beffd3c693c100{padding:5px;display:grid;vertical-align:middle}.content.jsx-e3beffd3c693c100{margin-left:4px}.spacer.jsx-e3beffd3c693c100{height:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}@media screen and (min-width:450px){.cta-button.jsx-e3beffd3c693c100{padding:5px;display:inline-block;vertical-align:middle}}.spinner.jsx-e3beffd3c693c100{width:100%;height:100%}.spinner.jsx-e3beffd3c693c100,.load-more-spinner.jsx-e3beffd3c693c100{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px}.header.jsx-e3beffd3c693c100{display:grid;grid-template-columns:1fr auto auto;grid-column-gap:20px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.empty-folder.jsx-e3beffd3c693c100{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.new-folder.jsx-e3beffd3c693c100{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.empty-folder.jsx-e3beffd3c693c100 *.jsx-e3beffd3c693c100{padding:var(--space-16)}"})]}):(0,d.BX)("div",{className:"jsx-b9539186b6f901cf",children:[(0,d.tZ)(Cn.Z,{children:"Unable to fetch repls. Please try again."}),(0,d.tZ)(c(),{id:"b9539186b6f901cf",children:"div.jsx-b9539186b6f901cf{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-16)}"})]})}},74926:function(e,n,t){var r=t(26042),i=t(69396),l=t(35944),o=t(67294),a=t(41664),d=t.n(a),s=t(88652),c=t(15085);n.Z=function(e){var n=e.links,t=e.username;return(0,l.tZ)(c.xv,{children:n.map((function(e,a){var u=e.pathnames,p=e.text;return(0,l.BX)(o.Fragment,{children:[a===n.length-1?p:(0,l.tZ)(d(),(0,i.Z)((0,r.Z)({},t?(0,s.wQ)({pathnames:u,username:t}):(0,s.xd)({pathnames:u})),{children:(0,l.tZ)("a",{css:{color:c.TV.foregroundDefault},children:p})})),(0,l.tZ)("span",{css:{color:c.TV.foregroundDimmest},children:" / "})]},u.join("/"))}))})}},47966:function(e,n,t){t.d(n,{sH:function(){return g},CW:function(){return S},x$:function(){return w},cM:function(){return k},G5:function(){return x}});var r=t(26042),i=t(7297),l=t(31230);function o(){var e=(0,i.Z)(["\n  fragment ReplsDashboardReplItemActionsRepl on Repl {\n    id\n    url\n    slug\n    analyticsUrl\n    pinnedToProfile\n    isPrivate\n    currentUserPermissions {\n      changeTitle\n      changeDescription\n      changeLanguage\n      changeConfig\n      changePrivacy\n      containerWrite\n      star\n      pin\n      move\n      delete\n      leaveMultiplayer\n      viewHistory\n      fork\n    }\n  }\n"]);return o=function(){return e},e}var a=(0,l.Ps)(o()),d=t(21767),s=t(16092),c=t(93053),u=t(50319);function p(){var e=(0,i.Z)(["\n  fragment ReplsDashboardReplItemRepl on Repl {\n    id\n    title\n    description\n    timeCreated\n    size\n    isStarred\n    isPrivate\n    isOwner\n    isAlwaysOn\n    isBoosted\n    iconUrl\n    publishedAs\n    slug\n    url\n    hostedUrl\n    templateInfo {\n      label\n    }\n    ...ReplsDashboardReplItemActionsRepl\n    ...ReplLinkRepl\n    user {\n      id\n      image\n      username\n      ...UserLinkUser\n    }\n    config {\n      isServer\n    }\n    isRenamed\n  }\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  mutation ReplsDashboardUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,i.Z)(["\n  mutation ReplsDashboardReplItemPinReplToProfile($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function h(){var e=(0,i.Z)(["\n  mutation ReplsDashboardUnpinReplFromProfile($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  mutation ReplsDashboardRemoveRepl($id: String!) {\n    removeSharedRepl(replId: $id) {\n      id\n    }\n  }\n"]);return v=function(){return e},e}var b={},g=(0,l.Ps)(p(),a,d.Y,s._),Z=(0,l.Ps)(f(),g);function x(e){var n=(0,r.Z)({},b,e);return u.D(Z,n)}var y=(0,l.Ps)(m(),c.A);function w(e){var n=(0,r.Z)({},b,e);return u.D(y,n)}var R=(0,l.Ps)(h(),c.A);function k(e){var n=(0,r.Z)({},b,e);return u.D(R,n)}var I=(0,l.Ps)(v());function S(e){var n=(0,r.Z)({},b,e);return u.D(I,n)}}}]);
//# sourceMappingURL=9645-1ee82a5bd49fd828.js.map