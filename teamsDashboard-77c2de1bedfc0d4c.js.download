(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3727],{8930:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teamsDashboard",function(){return t(85781)}])},61469:function(e,n,t){"use strict";var r=t(35944),a=(t(67294),t(81255)),i=t(69346),o=t(1144);n.Z=function(e){var n=e.text;return(0,r.BX)(i.Z,{css:[a.l0.flex.row,a.l0.align.center],children:[(0,r.tZ)(i.Z,{css:[a.l0.mr(8),{borderBottom:"1px solid ".concat(a.TV.backgroundHighest),width:a.TV.space8}]}),(0,r.tZ)(o.x,{css:[a.l0.color.foregroundDimmest,a.l0.flex.shrink(1)],multiline:!0,children:n}),(0,r.tZ)(i.Z,{css:[a.l0.ml(8),a.l0.flex.grow(2),{borderBottom:"1px solid ".concat(a.TV.backgroundHighest),width:a.TV.space16}]})]})}},96258:function(e,n,t){"use strict";t.d(n,{Ke:function(){return m},Y1:function(){return v}});var r=t(26042),a=t(7297),i=t(31230),o=t(37887),l=t(50319);function s(){var e=(0,a.Z)(["\n  query TeamOrganization($id: Int!) {\n    teamOrganization(id: $id) {\n      ... on TeamOrganization {\n        id\n        name\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,a.Z)(["\n  mutation updateTeamOrganization($input: UpdateTeamOrganizationInput!) {\n    updateTeamOrganization(input: $input) {\n      ... on TeamOrganization {\n        id\n        name\n      }\n    }\n  }\n"]);return c=function(){return e},e}var u={},d=(0,i.Ps)(s());function m(e){var n=(0,r.Z)({},u,e);return o.a(d,n)}var h=(0,i.Ps)(c());function v(e){var n=(0,r.Z)({},u,e);return l.D(h,n)}},85781:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ft}});var r=t(47568),a=t(14924),i=t(10253),o=t(70655),l=t(35944),s=t(67294),c=t(26042),u=t(7297),d=t(31230),m=t(93071),h=t(37887);function v(){var e=(0,u.Z)(["\n  fragment TeamsDashboardTeam on Team {\n    id\n    username\n    memberCount\n  }\n"]);return v=function(){return e},e}function g(){var e=(0,u.Z)(["\n  fragment TeamsDashboardTeamOrganizationSubscription on TeamOrganizationSubscription {\n    id\n    planId\n    quantity\n    isTrial\n    timeExpired\n    interval\n    isManuallyProvisioned\n    stripeCustomer {\n      id\n      subscriptions {\n        id\n      }\n    }\n  }\n"]);return g=function(){return e},e}function p(){var e=(0,u.Z)(["\n  fragment TeamsDashboardTeamOrganization on TeamOrganization {\n    id\n    name\n    isOwner\n    isAdmin\n    isVerified\n    showVerificationBadge\n    canBeDeleted\n    customer {\n      id\n      stripeCustomerId\n    }\n    subscription {\n      id\n      ...TeamsDashboardTeamOrganizationSubscription\n    }\n    teams {\n      id\n      ...TeamCard\n    }\n    archivedTeamsCount\n    unsubscribedTeamsCount\n    capabilities {\n      isExpired: isExpiring(daysFromNow: 0)\n      isExpiringIn30Days: isExpiring(daysFromNow: 30)\n      isEducationPlan\n      isBusinessPlan\n      isPerSeatPlan\n      isFlatPlan\n      canAddEducationTeam\n      canCreateNewTeam\n      availableSeats\n      memberCount\n    }\n    userPermissions {\n      canViewOrgSettings\n      canDeleteOrg\n      canLeaveOrg\n      canRemoveOrgAdmins\n      canRemoveOrgOwners\n      canAddOrgAdmins\n      canAddOrgOwners\n      canEditBilling\n      canCreateTeamsInOrg\n    }\n    inviteLink {\n      id\n      code\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function Z(){var e=(0,u.Z)(['\n  query TeamsDashboard {\n    currentUser {\n      id\n      email\n      canCreateNewFreeTeam\n      showVerifyTeacherBanner\n      capabilities {\n        canCreateEduTrial\n      }\n      freeTeams {\n        id\n        ...TeamCard\n      }\n      educationTeamOrgs: teamOrganizations(subscriptionType: EDUCATION) {\n        id\n        ...TeamsDashboardTeamOrganization\n      }\n      proTeamOrgs: teamOrganizations(subscriptionType: PRO) {\n        id\n        ...TeamsDashboardTeamOrganization\n      }\n      isPrivacyLimitedAccess: hasPrivacyRole\n      hasTeamsKillswitch: gate(feature: "flag-killswitch-teams")\n    }\n  }\n  ',"\n  ","\n"]);return Z=function(){return e},e}var f={},b=(v(),(0,d.Ps)(g())),T=(0,d.Ps)(p(),b,m.eL),y=(0,d.Ps)(Z(),m.eL,T);var O=t(70338),C=t(41664),w=t.n(C),x=t(77663),z=t(37424),B=t(50319);function I(){var e=(0,u.Z)(["\n  fragment TeamsDeleteTeamModalTeam on Team {\n    id\n    username\n  }\n"]);return I=function(){return e},e}function E(){var e=(0,u.Z)(["\n  mutation TeamsDeleteTeamModalDeleteTeam($input: DeleteTeamInput!) {\n    deleteTeam(input: $input) {\n      ... on Team {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return E=function(){return e},e}var P={},_=(I(),(0,d.Ps)(E()));var D=t(15085),S=t(93058),X=t(57704),U=function(e){var n=e.team,t=e.isOpen,r=e.onRequestClose,a=e.onDelete,o=(0,S.Z)(),u=o.showConfirm,d=o.showError,m=(0,z.H)()("confirmName"),h=n.displayName||n.username,v=(0,i.Z)(s.useState(""),2),g=v[0],p=v[1],Z=g===h,f=(0,i.Z)(function(e){var n=(0,c.Z)({},P,e);return B.D(_,n)}({variables:{input:{teamId:n.id}},onCompleted:function(e){"Team"===e.deleteTeam.__typename?(a(),u("Team deleted"),r()):"UserError"===e.deleteTeam.__typename&&(d(e.deleteTeam.message),r())},onError:function(e){var n=e.graphQLErrors[0].message||"Something went wrong when deleting this team";d(n),r()}}),2),b=f[0],T=f[1].loading;return(0,l.tZ)(D.u_,{isOpen:t,onRequestClose:r,children:(0,l.BX)(D.G7,{css:[D.l0.colWithGap(24)],tag:"form",children:[(0,l.BX)(D.h4,{variant:"headerDefault",level:1,css:D.l0.maxWidth("100%"),children:["Delete ",h,"?"]}),(0,l.BX)(D.G7,{css:[D.l0.colWithGap(8)],children:[(0,l.tZ)(D.xv,{multiline:!0,children:"Deleting will remove the Team from this Organization, and all Repls and Folders in this Team will be deleted. Are you sure you want to delete this Team?"}),(0,l.tZ)(D.xv,{multiline:!0,children:"Be careful, deleting a Team cannot be undone. If you want to save the contents of the Team, consider archiving the Team instead."})]}),(0,l.BX)(D.G7,{css:[D.l0.colWithGap(8)],children:[(0,l.BX)("label",{htmlFor:m,css:[D.l0.color.foregroundDimmer,{fontSize:D.TV.fontSizeSmall,lineHeight:D.TV.lineHeightSmall}],children:["Type the Team name (",h,") to delete"]}),(0,l.tZ)(D.II,{autoFocus:!0,disabled:T,id:m,value:g,placeholder:h,onChange:function(e){return p(e.currentTarget.value)}})]}),(0,l.BX)(D.G7,{css:[D.l0.rowWithGap(12),D.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",disabled:T,onClick:r}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(X.Z,{}),disabled:!Z||T,onClick:function(){return b()},text:"".concat(T?"Deleting Team...":"Yes, delete this Team"),colorway:"negative"})]})]})})};function k(){var e=(0,u.Z)(["\n  fragment LeaveTeamOutput on TeamOutput {\n    ... on Team {\n      id\n    }\n    ... on UserError {\n      message\n    }\n  }\n"]);return k=function(){return e},e}function N(){var e=(0,u.Z)(["\n  mutation TeamCardLeaveTeam($teamId: Int!) {\n    leaveTeam(teamId: $teamId) {\n      ...LeaveTeamOutput\n    }\n  }\n  ","\n"]);return N=function(){return e},e}var R={},M=(0,d.Ps)(k()),G=(0,d.Ps)(N(),M);var W=t(1879),L=t(69346),V=t(1144),q=t(81255),A=t(4275),F=function(e){var n=e.team,t=e.isOpen,r=e.onRequestClose,a=e.onLeave,o=(0,S.Z)(),s=o.showConfirm,u=o.showError,d=(0,i.Z)(function(e){var n=(0,c.Z)({},R,e);return B.D(G,n)}({variables:{teamId:n.id},onError:function(e){var n=e.graphQLErrors[0];n.message?u(n.message):u("Something went wrong when leaving this team")},onCompleted:function(e){e&&"Team"===e.leaveTeam.__typename?(a(),s("Successfully left team"),r()):e&&"UserError"===e.leaveTeam.__typename&&u(e.leaveTeam.message)}}),2),m=d[0],h=d[1].loading;return(0,l.tZ)(W.Z,{isOpen:t,onRequestClose:r,children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.BX)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:["Leave ",n.displayName||n.username,"?"]}),(0,l.tZ)(V.x,{multiline:!0,children:"Are you sure you want to leave this Team? You will lose access to all of the Team\u2019s Repls and Folders."}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",disabled:h,onClick:r}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(A.Z,{}),disabled:h,onClick:function(){return m()},text:"Yes, leave Team",colorway:"negative"})]})]})})};function j(){var e=(0,u.Z)(["\n  mutation ArchiveTeamModalArchiveTeam($input: ArchiveTeamInput!) {\n    archiveTeam(input: $input) {\n      ... on Team {\n        id\n        archived\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return j=function(){return e},e}function $(){var e=(0,u.Z)(["\n  mutation UnarchiveTeamModalArchiveTeam($input: UnarchiveTeamInput!) {\n    unarchiveTeam(input: $input) {\n      ... on Team {\n        id\n        archived\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return $=function(){return e},e}var Y={},H=(0,d.Ps)(j());var J=(0,d.Ps)($());var K,Q=t(1138),ee=function(e){var n=e.team,t=e.isOpen,r=e.onRequestClose,a=e.onArchive,o=(0,S.Z)(),s=o.showConfirm,u=o.showError,d=(0,i.Z)(function(e){var n=(0,c.Z)({},Y,e);return B.D(H,n)}({variables:{input:{teamId:n.id}},onCompleted:function(e){"Team"===e.archiveTeam.__typename&&(s("Team archived"),a(),r()),"UserError"!==e.archiveTeam.__typename&&"UnauthorizedError"!==e.archiveTeam.__typename&&"NotFoundError"!==e.archiveTeam.__typename||u(e.archiveTeam.message)}}),2),m=d[0],h=d[1].loading,v=(0,i.Z)(function(e){var n=(0,c.Z)({},Y,e);return B.D(J,n)}({variables:{input:{teamId:n.id}},onCompleted:function(e){"Team"===e.unarchiveTeam.__typename&&(s("Team unarchived"),a(),r()),"UserError"!==e.unarchiveTeam.__typename&&"UnauthorizedError"!==e.unarchiveTeam.__typename&&"NotFoundError"!==e.unarchiveTeam.__typename||u(e.unarchiveTeam.message)}}),2),g=v[0],p=v[1].loading,Z=h||p;return(0,l.tZ)(W.Z,{isOpen:t,onRequestClose:r,children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(32)],children:[(0,l.BX)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:[n.archived?"Unarchive":"Archive"," ",n.displayName||n.username,"?"]}),n.archived?(0,l.tZ)(V.x,{multiline:!0,children:"Unarchiving will show the Team in the Organization, and members will be able to create new Repls in the Team. You can archive again at any time."}):(0,l.BX)(L.Z,{css:q.l0.colWithGap(8),children:[(0,l.tZ)(V.x,{multiline:!0,children:"Archiving will hide the Team from the Organization. Members will be able to access Repls created in this Team, but new Repls can not be created. You can unarchive the Team at any time."}),(0,l.tZ)(V.x,{multiline:!0,children:"Archiving is a good option if you are done with a Team, but want to retain access to the content in it."})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",disabled:Z,onClick:r}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(Q.Z,{}),disabled:Z,onClick:function(){n.archived?g():m()},text:"".concat(n.archived?"Unarchive":"Yes, archive this"," Team"),colorway:n.archived?"primary":"negative"})]})]})})},ne=t(57263),te=t(59369),re=t(61756),ae=t(29163),ie=t(83117),oe=t(70917);!function(e){e.Leave="Leave Team",e.Delete="Delete Team",e.Archive="Archive Team",e.Unarchive="Unarchive Team"}(K||(K={}));var le="@media screen and (min-width: ".concat(ne.j.tabletMin,"px)"),se=function(e){var n=e.team;return(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center,q.l0.flex.shrink(2),q.l0.color.foregroundDefault,(0,a.Z)({},le,{flexGrow:1})],children:[(0,l.tZ)(ce,{imageUrl:n.image}),(0,l.tZ)(L.Z,{css:[q.l0.flex.shrink(2)],children:(0,l.tZ)(V.x,{multiline:!1,maxLines:1,variant:"subheadDefault",children:n.displayName||n.username})})]})},ce=function(e){var n=e.imageUrl;return(0,l.tZ)(L.Z,{tag:"span",css:[q.l0.mr(16),q.l0.borderRadius(16),{width:32,height:32,backgroundImage:"url(".concat(n,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}]})},ue=function(e){var n,t,r,o=e.team,c=e.onRemove,u=e.showBottomBorder,d=e.canJoinTeam,h=void 0!==d&&d,v=(0,S.Z)().showError,g=(0,i.Z)(s.useState(!1),2),p=g[0],Z=g[1],f=(0,i.Z)((0,m._O)({onCompleted:function(e){var n=e.joinTeamAsOrgAdmin;"Team"===n.__typename?c():"UserError"!==n.__typename&&"NotFoundError"!==n.__typename&&"UnauthorizedError"!==n.__typename||(v(n.message),Z(!1))},onError:function(){Z(!1)}}),1),b=f[0],T=(0,oe.F4)("\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  "),y=(0,i.Z)(s.useState(null),2),O=y[0],C=y[1],z=function(){return C(null)},B=Boolean(null===(n=o.userPermissions)||void 0===n?void 0:n.canLeaveTeam),I=Boolean(null===(t=o.userPermissions)||void 0===t?void 0:t.canDeleteTeam),E=[];return Boolean(null===(r=o.userPermissions)||void 0===r?void 0:r.canArchiveTeam)&&E.push({label:o.archived?K.Unarchive:K.Archive,icon:(0,l.tZ)(Q.Z,{}),isDestructive:!o.archived}),B&&E.push({label:K.Leave,icon:(0,l.tZ)(A.Z,{}),isDestructive:!0}),I&&E.push({label:K.Delete,icon:(0,l.tZ)(X.Z,{}),isDestructive:!0}),(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.mx(16),q.l0.py(16),{borderBottom:u?"1px solid ".concat(q.TV.backgroundHighest):"none"}],children:[(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.flex.shrink(2),(0,a.Z)({},le,{flexGrow:1})],children:[h?(0,l.tZ)(se,{team:o}):(0,l.tZ)(w(),{href:{pathname:"/teamProfile",query:{teamname:o.username}},as:"/team/".concat(o.username),passHref:!0,children:(0,l.tZ)("a",{children:(0,l.tZ)(se,{team:o})})}),(0,l.tZ)(L.Z,{css:[(0,a.Z)({display:"none"},le,{display:"flex"})],children:(0,l.tZ)(x.C,{size:32,members:o.members.map((function(e){return e.user})),memberCount:o.memberCount})})]}),h&&p?(0,l.tZ)(ae.Z,{disabled:!0,css:[{alignSelf:"center",margin:"0 33px",animation:"".concat(T," 1s infinite linear")}],alt:"Joining team",children:(0,l.tZ)(ie.Z,{})}):null,h&&!p?(0,l.tZ)(re.ZP,{css:[q.l0.ml(8)],text:"Join Team",onClick:function(){Z(!0),b({variables:{teamId:o.id}})}}):null,0===E.length||h?null:(0,l.BX)(l.HY,{children:[(0,l.tZ)(L.Z,{css:[q.l0.ml(8)],children:(0,l.tZ)("div",{onClick:function(e){e.preventDefault()},children:(0,l.tZ)(te.Z,{label:"Team Actions",items:E,onItemClick:function(e){return C(e.label)}})})}),(0,l.tZ)(U,{isOpen:O===K.Delete,team:o,onDelete:c,onRequestClose:z}),(0,l.tZ)(F,{isOpen:O===K.Leave,team:o,onLeave:c,onRequestClose:z}),(0,l.tZ)(ee,{isOpen:O===K.Archive||O===K.Unarchive,team:o,onArchive:c,onRequestClose:z})]})]})},de=t(73359);function me(){var e=(0,u.Z)(["\n  query TeamsListSectionArchivedTeams($orgId: Int!) {\n    teamOrganization(id: $orgId) {\n      ... on TeamOrganization {\n        id\n        archivedTeams {\n          id\n          ...TeamCard\n        }\n      }\n    }\n  }\n  ","\n"]);return me=function(){return e},e}function he(){var e=(0,u.Z)(["\n  query TeamsListSectionUnsubscribedTeams($orgId: Int!) {\n    teamOrganization(id: $orgId) {\n      ... on TeamOrganization {\n        id\n        unsubscribedTeams {\n          id\n          ...TeamCard\n        }\n      }\n    }\n  }\n  ","\n"]);return he=function(){return e},e}var ve={},ge=(0,d.Ps)(me(),m.eL);var pe=(0,d.Ps)(he(),m.eL);var Ze=t(11163),fe=t(77365),be=t(98202),Te=t(95596),ye=t(67376),Oe=t(96258),Ce=t(64080),we=t(40963),xe=t(30992),ze=t(88075),Be=function(e){var n=e.organization,t=(0,S.Z)(),r=t.showConfirm,a=t.showError,o=(0,i.Z)(s.useState(!1),2),c=o[0],u=o[1],d=(0,i.Z)((0,Oe.Y1)({onCompleted:function(e){"TeamOrganization"===e.updateTeamOrganization.__typename&&(r("Success"),u(!1))},onError:function(e){var n=e.message;a(n),u(!1)}}),2),m=d[0],h=d[1].loading,v=(0,xe.Y)(n.name,(function(e){if(e.length<1)return{message:"Name is required"}}));return(0,l.tZ)(L.Z,{css:[q.l0.flex.row,q.l0.align.center,q.l0.pb(32)],children:c?(0,l.tZ)("form",{onSubmit:function(e){e.preventDefault(),m({variables:{input:{id:n.id,name:v.value}}})},children:(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center],children:[(0,l.tZ)(we.ZP,{placeholder:"Organization name",value:v.value,onChange:function(e){return v.setValue(e.target.value)},autoFocus:!0}),(0,l.tZ)(re.ZP,{text:"Cancel",onClick:function(){return u(!1)},css:[q.l0.ml(16)],disabled:h}),(0,l.tZ)(re.ZP,{iconLeft:(0,l.tZ)(ze.Z,{}),text:h?"Saving...":"Save",type:"submit",css:[q.l0.ml(16)],disabled:h,colorway:"primary"})]})}):(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center],children:[(0,l.tZ)(V.h,{level:2,variant:"headerBig",css:[q.l0.pr(8)],children:n.name}),(0,l.tZ)(ae.Z,{alt:"Update organization name",size:24,onClick:function(){return u(!0)},children:(0,l.tZ)(Ce.Z,{})})]})})},Ie=t(90317);function Ee(){var e=(0,u.Z)(["\n  fragment MemberUser on User {\n    id\n    displayName\n    image\n  }\n"]);return Ee=function(){return e},e}function Pe(){var e=(0,u.Z)(["\n  fragment MemberMgmtMember on TeamOrganizationMembership {\n    id\n    role\n    user {\n      id\n      ...MemberUser\n    }\n  }\n  ","\n"]);return Pe=function(){return e},e}function _e(){var e=(0,u.Z)(["\n  fragment TeamOrganizationPendingInvite on TeamOrganizationInvite {\n    id\n    usernameOrEmail\n    user {\n      id\n      ...MemberUser\n    }\n  }\n  ","\n"]);return _e=function(){return e},e}function De(){var e=(0,u.Z)(["\n  fragment MemberMgmtOrg on TeamOrganization {\n    id\n    name\n    members {\n      id\n      ...MemberMgmtMember\n    }\n    pendingInvites {\n      id\n      ...TeamOrganizationPendingInvite\n    }\n    inviteLink {\n      id\n      code\n    }\n  }\n  ","\n  ","\n"]);return De=function(){return e},e}function Se(){var e=(0,u.Z)(["\n  query TeamOrgMemberMgmt($teamOrgId: Int!) {\n    teamOrganization(id: $teamOrgId) {\n      ...MemberMgmtOrg\n    }\n  }\n  ","\n"]);return Se=function(){return e},e}function Xe(){var e=(0,u.Z)(["\n  mutation UpdateTeamOrgMemberRole($input: UpdateTeamOrganizationMemberInput!) {\n    updateTeamOrganizationMember(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Xe=function(){return e},e}function Ue(){var e=(0,u.Z)(["\n  mutation DeleteTeamOrgMember($input: DeleteTeamOrganizationMemberInput!) {\n    deleteTeamOrganizationMember(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ue=function(){return e},e}function ke(){var e=(0,u.Z)(["\n  mutation CreateTeamOrgInviteLink($orgId: Int!) {\n    createTeamOrgInviteLink(orgId: $orgId) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function Ne(){var e=(0,u.Z)(["\n  mutation DeleteTeamOrgInviteLink($orgId: Int!) {\n    deleteTeamOrgInviteLink(orgId: $orgId) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ne=function(){return e},e}var Re={},Me=(0,d.Ps)(Ee()),Ge=(0,d.Ps)(Pe(),Me),We=(0,d.Ps)(_e(),Me),Le=(0,d.Ps)(De(),Ge,We),Ve=(0,d.Ps)(Se(),Le);var qe=(0,d.Ps)(Xe(),Le);var Ae=(0,d.Ps)(Ue(),Le);ke();Ne();var Fe=t(37552),je=t(93160),$e=t(26473),Ye=t(67629),He=t(70570),Je=t(70008),Ke=t(24351),Qe=t(17556),en=t(8766);function nn(e){var n=e.organization,t=e.createInvite,r=(0,i.Z)(s.useState(!1),2),a=r[0],o=r[1],c=(0,xe.Y)("",en.Z.isValidEmail),u=(0,Ke.Z)(c.value,250);(0,Je.gJ)({variables:{query:u,limit:5},onCompleted:function(e){var n=e.usernameSearch;n&&h(n)}});var d=(0,i.Z)(s.useState([]),2),m=d[0],h=d[1],v=s.useCallback((function(e){var r="";r=e||c.value,t({variables:{input:{usernameOrEmail:r,orgId:n.id}}}),c.setValue(""),h([])}),[t,n,c]),g=(0,i.Z)(s.useState(!1),2),p=g[0],Z=g[1],f=(0,Qe.Z)((function(){return Z(!1)}),[]);s.useEffect((function(){m.length>0?Z(!0):Z(!1)}),[m]);var b=(0,z.H)();return(0,l.tZ)(L.Z,{children:a?(0,l.tZ)(je.Z,{background:"higher",css:[q.l0.p(16),q.l0.borderRadius(8)],children:(0,l.BX)(L.Z,{children:[(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.mb(16)],children:[(0,l.BX)(V.x,{variant:"subheadDefault",children:["Add admin to ",n.name]}),(0,l.tZ)(ae.Z,{alt:"Close add admin or org dialog",onClick:function(){return o(!1)},children:(0,l.tZ)(Ye.Z,{})})]}),(0,l.BX)(L.Z,{css:[q.l0.mb(32)],children:[(0,l.tZ)("label",{htmlFor:b("usernameOrEmail"),children:(0,l.tZ)(V.x,{variant:"small",color:"dimmer",children:"Invite with username or email"})}),(0,l.tZ)("form",{onSubmit:function(){},children:(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.mt(4)],innerRef:f,children:[(0,l.BX)(L.Z,{css:[{flexGrow:2}],children:[(0,l.tZ)(we.ZP,{placeholder:"Type a username or email address",value:c.value,onChange:function(e){return c.setValue(e.target.value)},id:b("usernameOrEmail")}),p?(0,l.tZ)(L.Z,{css:[q.l0.backgroundColor.backgroundHighest,q.l0.borderRadius(8),{position:"relative",border:"1px solid ".concat(q.TV.outlineDefault)}],children:(0,l.tZ)(Fe.ZP,{label:"Returned users from search",onAction:v,children:m.map((function(e){return(0,l.tZ)(Fe.ck,{"aria-label":e.username,children:(0,l.tZ)(He.Z,{src:e.image,username:e.username,small:!0})},e.username)}))})}):null]}),(0,l.tZ)(re.ZP,{type:"submit",text:"Invite",iconLeft:(0,l.tZ)($e.Z,{}),css:[q.l0.ml(16)],onClick:function(){return v()},disabled:Boolean(c.error)})]})})]})]})}):(0,l.tZ)(L.Z,{css:[q.l0.flex.row],children:(0,l.tZ)(re.ZP,{iconLeft:(0,l.tZ)($e.Z,{}),text:"Add Org Admin or Owner",onClick:function(){return o(!0)},colorway:"primary",stretch:!1})})})}var tn=t(61469);function rn(){var e=(0,u.Z)(["\n  mutation CreateTeamOrgInvite($input: CreateTeamOrgInviteInput!) {\n    createTeamOrganizationInvite(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return rn=function(){return e},e}function an(){var e=(0,u.Z)(["\n  mutation DeleteTeamOrgInvite($input: DeleteTeamOrgInviteInput!) {\n    deleteTeamOrganizationInvite(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return an=function(){return e},e}var on={},ln=(0,d.Ps)(rn(),Le);var sn=(0,d.Ps)(an(),Le);var cn,un=function(e){var n=e.image;return(0,l.tZ)(L.Z,{tag:"span",css:[q.l0.mr(16),q.l0.borderRadius(16),{width:32,height:32,backgroundSize:"cover",backgroundImage:"url(".concat(n,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center"}]})},dn=function(e){var n=e.organization,t=e.currentUserId,r=(0,S.Z)().showError,a=(0,i.Z)(s.useState([]),2),o=a[0],u=a[1],d=(0,i.Z)(s.useState([]),2),m=d[0],v=d[1],g=function(e){u(e.members),v(e.pendingInvites)},p=function(e){r(e.message)},Z=function(e){var n=(0,c.Z)({},Re,e);return h.a(Ve,n)}({variables:{teamOrgId:n.id},onCompleted:function(e){var n;"TeamOrganization"===(null===(n=e.teamOrganization)||void 0===n?void 0:n.__typename)&&g(e.teamOrganization)},onError:function(e){p(e)}}).loading,f=(0,i.Z)(function(e){var n=(0,c.Z)({},Re,e);return B.D(qe,n)}({onCompleted:function(e){var n,t,r;"TeamOrganization"===(null===(n=e.updateTeamOrganizationMember)||void 0===n?void 0:n.__typename)?g(e.updateTeamOrganizationMember):"UnauthorizedError"!==(null===(t=e.updateTeamOrganizationMember)||void 0===t?void 0:t.__typename)&&"NotFoundError"!==(null===(r=e.updateTeamOrganizationMember)||void 0===r?void 0:r.__typename)||p(e.updateTeamOrganizationMember)},onError:function(e){p(e)}}),1),b=f[0],T=(0,i.Z)(function(e){var n=(0,c.Z)({},Re,e);return B.D(Ae,n)}({onCompleted:function(e){var n,t,r;"TeamOrganization"===(null===(n=e.deleteTeamOrganizationMember)||void 0===n?void 0:n.__typename)?g(e.deleteTeamOrganizationMember):"UnauthorizedError"!==(null===(t=e.deleteTeamOrganizationMember)||void 0===t?void 0:t.__typename)&&"NotFoundError"!==(null===(r=e.deleteTeamOrganizationMember)||void 0===r?void 0:r.__typename)||p(e.deleteTeamOrganizationMember)},onError:function(e){p(e)}}),1),y=T[0],O=(0,i.Z)(function(e){var n=(0,c.Z)({},on,e);return B.D(ln,n)}({onCompleted:function(e){var n,t,r,a;"TeamOrganization"===(null===(n=e.createTeamOrganizationInvite)||void 0===n?void 0:n.__typename)?g(e.createTeamOrganizationInvite):"UserError"!==(null===(t=e.createTeamOrganizationInvite)||void 0===t?void 0:t.__typename)&&"UnauthorizedError"!==(null===(r=e.createTeamOrganizationInvite)||void 0===r?void 0:r.__typename)&&"NotFoundError"!==(null===(a=e.createTeamOrganizationInvite)||void 0===a?void 0:a.__typename)||p(e.createTeamOrganizationInvite)},onError:function(e){p(e)}}),1),C=O[0],w=(0,i.Z)(function(e){var n=(0,c.Z)({},on,e);return B.D(sn,n)}({onCompleted:function(e){var n,t,r,a;"TeamOrganization"===(null===(n=e.deleteTeamOrganizationInvite)||void 0===n?void 0:n.__typename)?g(e.deleteTeamOrganizationInvite):"UserError"!==(null===(t=e.deleteTeamOrganizationInvite)||void 0===t?void 0:t.__typename)&&"UnauthorizedError"!==(null===(r=e.deleteTeamOrganizationInvite)||void 0===r?void 0:r.__typename)&&"NotFoundError"!==(null===(a=e.deleteTeamOrganizationInvite)||void 0===a?void 0:a.__typename)||p(e.deleteTeamOrganizationInvite)},onError:function(e){p(e)}}),1),x=w[0];return Z?(0,l.tZ)(L.Z,{css:[q.l0.flex.row,q.l0.justify.center],children:(0,l.tZ)(fe.Z,{})}):(0,l.BX)(L.Z,{children:[(0,l.tZ)(nn,{organization:n,createInvite:C}),(0,l.BX)(L.Z,{children:[o.map((function(e,r){var a,i,o,s,c,u;return"User"!==(null===(a=e.user)||void 0===a?void 0:a.__typename)?null:(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.pt(16),q.l0.mt(16),{borderTop:0===r?"none":"1px solid ".concat(q.TV.backgroundHighest)}],children:[(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center],children:[(0,l.tZ)(un,{image:e.user.image}),(0,l.BX)(L.Z,{children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"".concat(null===(i=e.user)||void 0===i?void 0:i.displayName).concat(t===e.user.id?" (you)":"")}),!1]})]}),(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center],children:[("admin"===e.role&&(null===(o=n.userPermissions)||void 0===o?void 0:o.canRemoveOrgAdmins)||"owner"===e.role&&(null===(s=n.userPermissions)||void 0===s?void 0:s.canRemoveOrgOwners))&&t!==e.user.id?(0,l.tZ)(ae.Z,{alt:"Remove user ".concat(e.user.displayName," with role ").concat(e.role),size:28,onClick:function(){var t;(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id)&&y({variables:{input:{orgId:n.id,memberId:e.user.id,retainTeamAccess:!0}}})},children:(0,l.tZ)(X.Z,{})}):null,(null===(c=n.userPermissions)||void 0===c?void 0:c.canRemoveOrgOwners)&&t!==e.user.id?null:(0,l.tZ)(re.ZP,{disabled:!0,text:"owner"===e.role?"Org Owner":"Org Admin",css:[q.l0.ml(8),q.l0.color.foregroundDefault]}),(null===(u=n.userPermissions)||void 0===u?void 0:u.canRemoveOrgOwners)&&t!==e.user.id?(0,l.tZ)(L.Z,{css:[q.l0.ml(8)],children:(0,l.BX)(Fe.ZE,{label:"owner"===e.role?"Org Owner":"Org Admin",onAction:function(t){var r,a;(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.id)&&b({variables:{input:{orgId:n.id,memberId:null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id,role:t}}})},children:[(0,l.tZ)(Fe.ck,{children:"Org Owner"},Ie.fg.Owner),(0,l.tZ)(Fe.ck,{children:"Org Admin"},Ie.fg.Admin)]})}):null]})]},e.id)})),m.length>0&&(0,l.BX)(L.Z,{css:[q.l0.mt(16)],children:[(0,l.tZ)(tn.Z,{text:"Pending Invitations"}),m.map((function(e,t){var r;return(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.mt(16),q.l0.pt(0===t?0:16),{borderTop:0===t?"none":"1px solid ".concat(q.TV.backgroundHighest)}],children:[(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center],children:[e.user?(0,l.tZ)(un,{image:e.user.image}):null,(0,l.BX)(L.Z,{children:[(0,l.tZ)(V.x,{variant:"subheadDefault",css:[q.l0.mb(e.user?4:0)],children:(null===(r=e.user)||void 0===r?void 0:r.displayName)||e.usernameOrEmail}),(e.user,null)]})]}),(0,l.tZ)(ae.Z,{alt:"Remove invite for user",size:28,onClick:function(){x({variables:{input:{orgId:n.id,inviteId:e.id}}})},children:(0,l.tZ)(X.Z,{})})]})}))]})]})]})},mn=function(e){var n=e.orgId;return(0,l.BX)(L.Z,{children:[(0,l.tZ)(V.x,{variant:"subheadBig",css:[q.l0.pt(8),q.l0.pb(16)],children:"Manage Plan"}),(0,l.tZ)(V.x,{children:(0,l.tZ)("a",{href:"/stripe-customer-portal?orgId=".concat(n),children:"Change payment method, view invoices, and cancel subscription"})})]})},hn=function(e){var n=e.text,t=e.selected,r=e.onClick,a=e.Icon,i=(0,oe.iv)({paddingTop:q.TV.space16,paddingBottom:q.TV.space24,backgroundColor:t?"default":q.TV.backgroundHigher});return(0,l.tZ)(L.Z,{css:[q.l0.mx(4)],children:(0,l.tZ)(re.ZP,{css:i,text:n,stretch:!1,iconLeft:(0,l.tZ)(a,{}),onClick:r})})},vn=function(e){var n=e.children,t=(0,oe.iv)({overflow:"hidden",borderBottom:"1px solid",borderColor:q.TV.backgroundHighest,height:32});return(0,l.tZ)(L.Z,{css:t,children:(0,l.tZ)(L.Z,{css:[q.l0.flex.row,q.l0.ml(16)],children:n})})};!function(e){e.MEMBERS="MEMBERS",e.BILLING="BILLING"}(cn||(cn={}));var gn=function(e){var n,t,r,a,o,c=e.isOpen,u=e.setClose,d=e.organization,m=e.currentUserId,h=(0,i.Z)(s.useState(cn.MEMBERS),2),v=h[0],g=h[1],p=(null===(n=d.capabilities)||void 0===n?void 0:n.isBusinessPlan)?"".concat(d.capabilities.availableSeats,"/").concat(null===(t=d.subscription)||void 0===t?void 0:t.quantity," Members"):"Members",Z=(null===d||void 0===d||null===(r=d.userPermissions)||void 0===r?void 0:r.canEditBilling)&&!(null===(a=d.capabilities)||void 0===a?void 0:a.isEducationPlan),f=Boolean(null===(o=d.customer)||void 0===o?void 0:o.stripeCustomerId);return(0,l.BX)(W.Z,{isOpen:c,onRequestClose:u,noPadding:!0,maxWidth:872,children:[(0,l.tZ)(L.Z,{css:[q.l0.p(16),q.l0.pb(0)],children:(0,l.tZ)(Be,{organization:d})}),(0,l.BX)(vn,{children:[(0,l.tZ)(hn,{text:p,Icon:Te.Z,selected:v===cn.MEMBERS,onClick:function(){return g(cn.MEMBERS)}}),Z&&f?(0,l.tZ)(hn,{text:"Billing/Plan",Icon:ye.Z,selected:v===cn.BILLING,onClick:function(){return g(cn.BILLING)}}):null]}),(0,l.BX)(L.Z,{css:[q.l0.p(16)],children:[v===cn.MEMBERS&&(0,l.tZ)(dn,{organization:d,currentUserId:m}),v===cn.BILLING&&(0,l.tZ)(mn,{orgId:d.id})]})]})},pn=t(42844);function Zn(e){var n=e.organization,t=e.onMenuItemSelected,r=[];return n&&n.userPermissions&&(n.userPermissions.canViewOrgSettings&&r.push({value:"OrgSettings",label:"Org Settings",icon:(0,l.tZ)(pn.Z,{})}),n.userPermissions.canDeleteOrg&&r.push({value:"DeleteOrg",label:"Delete Org",icon:(0,l.tZ)(X.Z,{}),isDestructive:!0}),n.userPermissions.canLeaveOrg&&r.push({value:"LeaveOrg",label:"Leave Org",icon:(0,l.tZ)(A.Z,{}),isDestructive:!0})),0===r.length?null:(0,l.tZ)(te.Z,{label:"Org Actions",items:r,onItemClick:function(e){return t(e.value)}})}var fn=t(27206);function bn(){var e=(0,u.Z)(["\n  mutation DeleteTeamOrg($input: DeleteTeamOrganizationInput!) {\n    deleteTeamOrganization(input: $input) {\n      ... on TeamOrganization {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return bn=function(){return e},e}var Tn={},yn=(0,d.Ps)(bn());var On=function(e){var n=e.orgName,t=e.orgId,a=e.isOpen,s=e.canBeDeleted,u=e.onRequestClose,d=e.onOrgDeleted,m=(0,z.H)()("confirmName"),h=(0,S.Z)(),v=h.showError,g=h.showConfirm,p=(0,i.Z)(function(e){var n=(0,c.Z)({},Tn,e);return B.D(yn,n)}({onError:function(e){v(e.message)},onCompleted:function(e){"TeamOrganization"===e.deleteTeamOrganization.__typename?(g("Organization successfully deleted."),d(),O()):"NotFoundError"!==e.deleteTeamOrganization.__typename&&"UnauthorizedError"!==e.deleteTeamOrganization.__typename||v(e.deleteTeamOrganization.message)}}),2),Z=p[0],f=p[1].loading,b=(0,xe.Y)("",(function(e){if(e!==n)return{message:"Please type the organization name exactly"}})),T=Boolean(b.error),y=(0,oe.iv)({borderRadius:"".concat(q.TV.space8," !important")}),O=function(){b.setValue(""),u()},C=function(){var e=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return e.preventDefault(),b.validate()?[2]:[4,Z({variables:{input:{orgId:t}}})];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,l.tZ)(W.Z,{isOpen:a,onRequestClose:O,children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],tag:"form",onSubmit:C,children:[(0,l.BX)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:["Delete ",n]}),s?(0,l.BX)(l.HY,{children:[(0,l.BX)(L.Z,{css:q.l0.colWithGap(8),children:[(0,l.BX)(V.x,{multiline:!0,children:["Deleting ",n," will remove access to the Organization for anyone in the Organization, and any Teams in the Organization."]}),(0,l.tZ)(V.x,{multiline:!0,children:"It will also cancel the Organization\u2019s paid plan, if it has one, effective at the next billing cycle."}),(0,l.tZ)(V.x,{multiline:!0,children:"This cannot be undone!"})]}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(8)],children:[(0,l.tZ)("label",{css:[q.l0.color.foregroundDimmer,{fontSize:q.TV.fontSizeSmall,lineHeight:q.TV.lineHeightSmall}],htmlFor:m,children:"Type the organization name to confirm"}),(0,l.tZ)(fn.ZP,{autoFocus:!0,required:!0,css:y,id:m,value:b.value,placeholder:"Type the organization name to confirm",onBlur:b.handleBlur,disabled:f,validationResults:b.error?[{message:b.error.message,state:"error"}]:void 0,onChange:function(e){return b.setValue(e.currentTarget.value)}})]})]}):(0,l.tZ)(L.Z,{css:q.l0.colWithGap(8),children:(0,l.tZ)(V.x,{multiline:!0,children:"This Organization has active Teams in it. Deleting Organizations with Teams is not currently supported. If you want to delete this Organization, please delete the Teams in the Organization first."})}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",type:"button",onClick:O}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(X.Z,{}),disabled:f||T||!s,text:"Yes, Cancel Plan & Delete Organization",colorway:"negative",type:"submit"})]})]})})},Cn=t(72806);function wn(){var e=(0,u.Z)(["\n  mutation LeaveTeamOrg($input: DeleteTeamOrganizationMemberInput!) {\n    deleteTeamOrganizationMember(input: $input) {\n      ... on TeamOrganization {\n        id\n        ...MemberMgmtOrg\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return wn=function(){return e},e}var xn={},zn=(0,d.Ps)(wn(),Le);var Bn=function(e){var n=e.orgName,t=e.currentUserId,r=e.orgId,a=e.isOpen,o=e.onRequestClose,u=e.onLeave,d=(0,S.Z)(),m=d.showError,h=d.showConfirm,v=(0,z.H)()("retainTeamAccess"),g=(0,i.Z)(s.useState(!0),2),p=g[0],Z=g[1],f=(0,i.Z)(function(e){var n=(0,c.Z)({},xn,e);return B.D(zn,n)}({onError:function(e){m(e.message)},onCompleted:function(e){"TeamOrganization"===e.deleteTeamOrganizationMember.__typename?(h("Successfully left ".concat(n)),u(),o()):"NotFoundError"!==e.deleteTeamOrganizationMember.__typename&&"UnauthorizedError"!==e.deleteTeamOrganizationMember.__typename||m(e.deleteTeamOrganizationMember.message)}}),2),b=f[0],T=f[1].loading;return(0,l.tZ)(W.Z,{isOpen:a,onRequestClose:o,children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.BX)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:["Leave ",n]}),(0,l.tZ)(L.Z,{css:q.l0.colWithGap(8),children:(0,l.BX)(V.x,{multiline:!0,children:["Are you sure you want to leave ",n,"? This will mean you will lose access to the Organization. If you are a member of any Teams in the Organization, you can optionally choose to keep access to those Teams you\u2019ve joined."]})}),(0,l.BX)(L.Z,{css:q.l0.rowWithGap(8),children:[(0,l.tZ)(Cn.Z,{id:v,checked:p,onChange:function(e){return Z(e.target.checked)},disabled:T}),(0,l.tZ)("label",{css:q.l0.cursor.pointer,htmlFor:v,children:"Keep existing access to Teams"})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",onClick:o}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(A.Z,{}),text:"Yes, Leave Organization",colorway:"negative",disabled:T,onClick:function(){b({variables:{input:{orgId:r,memberId:t,retainTeamAccess:p}}})}})]})]})})};function In(){var e=(0,u.Z)(["\n  mutation CreateTeamForm($input: CreateTeamV2Input!) {\n    createTeamV2(input: $input) {\n      ... on Team {\n        id\n        ...TeamCard\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return In=function(){return e},e}var En={},Pn=(0,d.Ps)(In(),m.eL);var _n=t(97994),Dn=t(18757),Sn=t(3553),Xn=t(15794),Un=t(66060),kn=t(4158),Nn=function(e){var n=e.org,t=e.onCreate,a=e.onCancel,u=(0,z.H)(),d=u("displayName"),m=u("teamUsername"),h=(0,i.Z)(s.useState(!1),2),v=h[0],g=h[1],p=(0,S.Z)().showError,Z=(0,xe.Y)("",(function(e){if(e.length>60)return{message:"Display name limited 60 characters"}})),f=(0,xe.Y)("",en.Z.teamUsername),b=(0,i.Z)(s.useState(!1),2),T=b[0],y=b[1],O=Boolean(Z.error||f.error),C=(0,i.Z)(function(e){var n=(0,c.Z)({},En,e);return B.D(Pn,n)}({onError:function(e){p(e.message)},onCompleted:function(e){"Team"===e.createTeamV2.__typename?(t(e.createTeamV2),E()):"UserError"!==e.createTeamV2.__typename&&"UnauthorizedError"!==e.createTeamV2.__typename||p(e.createTeamV2.message)}}),2),w=C[0],x=C[1].loading,I=function(){var e=(0,r.Z)((function(){var e,n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),a=Z.value,e=a.toLowerCase().replace(/\s+/g,"-").replace(/[^0-9a-z-]/g,"").replace(/^-|-$|--/g,"")||"team-".concat(Math.ceil(1e7*Math.random())),g(!0),[4,(0,Xn.uz)("/data/user/generate_username",{initialName:e,maxLength:28})];case 1:return n=r.sent(),t=n.username,f.setValue(t),g(!1),[3,3];case 2:return r.sent(),g(!1),p("Could not generate a unique username."),[3,3];case 3:return[2]}var a}))}));return function(){return e.apply(this,arguments)}}(),E=function(){Z.setValue(""),f.setValue(""),g(!1),a()},P=function(){var e=(0,r.Z)((function(e){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),(t=Z.validate())?[3,2]:[4,f.validate()];case 1:t=r.sent(),r.label=2;case 2:return t?[2]:[4,w({variables:{input:{displayName:Z.value,username:f.value,orgId:null===n||void 0===n?void 0:n.id,privacyInvite:T}}})];case 3:return r.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),_=(0,oe.iv)({borderRadius:"".concat(q.TV.space8," !important")}),X=(0,oe.iv)({border:"none",background:"transparent",color:"inherit",font:"inherit",lineHeight:"normal",textDecoration:"underline",":disabled":{color:q.TV.foregroundDimmest},":not([disabled])":{cursor:"pointer"}}),U=x||v;return(0,l.BX)(L.Z,{tag:"form",css:[q.l0.colWithGap(24)],onSubmit:P,children:[(0,l.BX)(L.Z,{css:[q.l0.colWithGap(16)],children:[(0,l.tZ)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:n?"New Team in ".concat(n.name):"New Friends Team"}),n?(0,l.tZ)(_n.Z,{icon:(0,l.tZ)(Dn.Z,{}),href:"https://docs.replit.com/teams-edu/assigning-user-roles",text:"This Team is in ".concat(n.name,". Organization owners can see the members and contents of this team. Click here to learn more about Organization roles.")}):null]}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(12)],children:[(0,l.tZ)("label",{htmlFor:d,children:"Team display name"}),(0,l.tZ)(fn.ZP,{autoFocus:!0,disabled:U,css:_,id:d,value:Z.value,placeholder:"What should the Team be called?",onBlur:Z.handleBlur,validationResults:Z.error?[{message:Z.error.message,state:"error"}]:void 0,onChange:function(e){return Z.setValue(e.currentTarget.value)}})]}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(12)],children:[(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12)],children:[(0,l.tZ)("label",{htmlFor:m,children:"Team username"}),(0,l.tZ)("button",{disabled:U,css:[X],type:"button",onClick:I,children:"Generate Unique Username"})]}),(0,l.tZ)(fn.ZP,{required:!0,disabled:U,css:_,id:m,value:f.value,placeholder:"team-username",onBlur:f.handleBlur,validationResults:f.error?[{message:f.error.message,state:"error"}]:void 0,onChange:function(e){return f.setValue(e.currentTarget.value)}}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(4)],children:[(0,l.tZ)(Sn.Z,{size:12}),(0,l.tZ)(V.x,{variant:"small",children:"You can\u2019t change this after creating a Team! So pick carefully."})]})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(8)],children:[(0,l.tZ)(Cn.Z,{id:u("privacyInvite"),checked:T,onChange:function(){return y(!T)}}),(0,l.tZ)("label",{htmlFor:u("privacyInvite"),children:"Click here if any of your students are under thirteen years of age."}),(0,l.tZ)(Un.ZP,{placement:"auto",tooltip:"For compliance with COPPA and other privacy laws, please check this box to enable privacy mode access for students.",children:(0,l.tZ)(kn.Z,{})})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",type:"button",onClick:E,disabled:U}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(ze.Z,{}),disabled:O||U,text:"Create Team",colorway:"primary",type:"submit"})]})]})},Rn=t(92002),Mn=t(34847);function Gn(){var e=(0,u.Z)(["\n  fragment TeamsChangePlanModalPreviewInvoiceItemGroup on PreviewInvoiceLineItemGroup {\n    periodStart\n    periodEnd\n    type\n    items {\n      description\n      amount\n      quantity\n    }\n  }\n"]);return Gn=function(){return e},e}function Wn(){var e=(0,u.Z)(["\n  query TeamsChangePlanModal($orgId: Int!) {\n    teamOrganization(id: $orgId) {\n      ... on TeamOrganization {\n        id\n        subscription {\n          id\n          quantity\n        }\n        capabilities {\n          memberCount\n          availableSeats\n        }\n      }\n    }\n  }\n"]);return Wn=function(){return e},e}function Ln(){var e=(0,u.Z)(["\n  query TeamsChangePlanModalPreviewInvoice($input: PreviewInvoiceInput!) {\n    previewInvoice(input: $input) {\n      ... on PreviewInvoiceOutput {\n        total\n        balance\n        chargeDate\n        currentItems {\n          ...TeamsChangePlanModalPreviewInvoiceItemGroup\n        }\n        upcomingItems {\n          ...TeamsChangePlanModalPreviewInvoiceItemGroup\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ln=function(){return e},e}function Vn(){var e=(0,u.Z)(["\n  mutation TeamsChangePlanModalUpdateSubscription(\n    $input: UpdateSubscriptionInput!\n  ) {\n    updateSubscription(input: $input) {\n      ... on UpdateSubscriptionOutput {\n        subscriptions {\n          id\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Vn=function(){return e},e}var qn={},An=(0,d.Ps)(Gn()),Fn=(0,d.Ps)(Wn());var jn=(0,d.Ps)(Ln(),An);var $n=(0,d.Ps)(Vn());var Yn,Hn=t(60977),Jn=t(87251),Kn=t(25108);!function(e){e[e.SelectSeats=0]="SelectSeats",e[e.PreviewInvoice=1]="PreviewInvoice",e[e.Confirmation=2]="Confirmation"}(Yn||(Yn={}));var Qn=999,et=(0,oe.iv)({borderRadius:"".concat(q.TV.space8," !important")}),nt=function(e){var n=e.initialSeats,t=e.seats,r=e.memberCount,a=e.availableSeats,i=e.onCancel,o=e.onPreview,c=(0,z.H)()("orgSeats"),u=(0,xe.Y)(t,(function(e){return Number.isNaN(e)?{message:"Please enter a whole number"}:e?e<1?{message:"Please enter a whole number greater than or equal to ".concat(1)}:e>Qn?{message:"Please enter a whole number less than or equal to ".concat(Qn)}:void 0:void 0})),d=s.useMemo((function(){var e=u.value;return Number.isNaN(e)?"":e&&e>=1&&e<=Qn?"x $".concat(15,"/seat = $").concat(15*e,"/month"):void 0}),[u.value]),m=Boolean(u.error),h=(0,Mn.Z)("seat",n),v=(0,Mn.Z)("seat",a);return(0,l.tZ)(L.Z,{children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(48)],children:[(0,l.tZ)(V.h,{level:1,variant:"headerDefault",children:"Update Seat Count"}),(0,l.BX)("form",{css:[q.l0.colWithGap(48)],onSubmit:function(e){e.preventDefault(),u.value&&o(u.value)},children:[(0,l.BX)(L.Z,{css:[q.l0.colWithGap(12)],children:[(0,l.tZ)(Jn.Z,{text:"Your subscription includes ".concat(n," ").concat(h,". \n                You are currently using ").concat(r," of ").concat(n," ").concat(h,". \n                You have ").concat(a," ").concat(v," available.")}),(0,l.tZ)("label",{htmlFor:c,children:"Number of seats"}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(8),q.l0.align.center],children:[(0,l.tZ)(L.Z,{children:(0,l.tZ)(fn.ZP,{type:"number",min:r,max:Qn,css:et,id:c,required:!0,value:u.value||void 0,onBlur:u.handleBlur,validationResults:u.error?[{message:u.error.message,state:"error"}]:void 0,onChange:function(e){return u.setValue(parseInt(e.currentTarget.value,10))}})}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:d})]}),(0,l.tZ)(L.Z,{children:(0,l.tZ)(V.x,{multiline:!0,children:"This will be charged monthly, starting with your next statement. You will also be charged or credited a prorated amount for the time left in this month for your increased or decreased seats at the beginning of your next statement."})})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",type:"button",onClick:function(){return i()}}),(0,l.tZ)(Un.ZP,{tooltip:"Please fix the errors above before checking out",isOpen:m,children:(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(ze.Z,{}),disabled:m||u.value===n,text:"Preview Changes",colorway:"primary",type:"submit"})})]})]})]})})},tt=function(e){var n,t,r,a=e.orgId,i=e.seats,o=e.onCancel,s=e.onPreview,u=function(e){var n=(0,c.Z)({},qn,e);return h.a(Fn,n)}({variables:{orgId:a}}),d=u.data,m=u.loading;if(!d||m)return(0,l.tZ)(L.Z,{css:q.l0.align.center,children:(0,l.tZ)(fe.Z,{size:32})});var v="TeamOrganization"===d.teamOrganization.__typename&&(null===(n=d.teamOrganization.subscription)||void 0===n?void 0:n.quantity),g="TeamOrganization"===d.teamOrganization.__typename&&(null===(t=d.teamOrganization.capabilities)||void 0===t?void 0:t.availableSeats),p="TeamOrganization"===d.teamOrganization.__typename&&(null===(r=d.teamOrganization.capabilities)||void 0===r?void 0:r.memberCount);return v&&"number"===typeof g&&"number"===typeof p?(0,l.tZ)(nt,{initialSeats:v,seats:i||v,availableSeats:g,memberCount:p,onCancel:o,onPreview:s}):(0,l.tZ)(L.Z,{children:(0,l.BX)(V.x,{children:["Something went wrong. Please"," ",(0,l.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"contact support"}),"."]})})},rt=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})},at=function(e){return e<0?(0,l.tZ)(V.x,{css:{color:q.TV.accentPositiveStrongest},children:rt(Math.abs(e))}):(0,l.tZ)(V.x,{css:{color:q.TV.accentNegativeStrongest},children:rt(e)})},it=Intl.DateTimeFormat("en-US",{timeZone:"UTC",month:"2-digit",year:"numeric",day:"2-digit"}),ot=function(e){return it.format(new Date(e))},lt=function(e){var n=e.group;return(0,l.BX)(L.Z,{css:[q.l0.colWithGap(8),q.l0.p(8),{border:"1px solid ".concat(q.TV.outlineDefault),borderRadius:q.TV.borderRadiusDefault}],children:[(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(4),q.l0.align.baseline],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"proration"===n.type?"Prorated billing period:":"Next billing period:"}),(0,l.BX)(V.x,{css:{color:q.TV.foregroundDimmer},children:["(",ot(n.periodStart)," - ",ot(n.periodEnd),")"]})]}),n.items.map((function(e){return(0,l.tZ)(L.Z,{css:[q.l0.colWithGap(4)],children:(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{children:"proration"===n.type?e.amount>0?"Charge for remaining time, ".concat(e.quantity," seats:"):"Credit for unused time, ".concat(e.quantity," seats:"):e.description}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:at(e.amount)})]})})})),(0,l.tZ)(L.Z,{css:{borderTop:"1px solid ".concat(q.TV.outlineDefault)}}),(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{children:"Amount due:"}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:at(n.items.reduce((function(e,n){return n.amount+e}),0))})]})]})},st=function(e){var n=e.group;return(0,l.BX)(L.Z,{css:[q.l0.colWithGap(8),q.l0.p(8),{border:"1px solid ".concat(q.TV.outlineDefault),borderRadius:q.TV.borderRadiusDefault}],children:[(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(4),q.l0.align.baseline],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"proration"===n.type?"Prorated billing period:":"Next billing period:"}),(0,l.BX)(V.x,{css:{color:q.TV.foregroundDimmer},children:["(",ot(n.periodStart)," - ",ot(n.periodEnd),")"]})]}),n.items.map((function(e){return(0,l.tZ)(L.Z,{css:[q.l0.colWithGap(4)],children:(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{children:"proration"===n.type?e.amount>0?"Charge for remaining time, ".concat(e.quantity," seats:"):"Credit for unused time, ".concat(e.quantity," seats:"):e.description}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:at(e.amount)})]})})})),(0,l.tZ)(L.Z,{css:{borderTop:"1px solid ".concat(q.TV.outlineDefault)}}),(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{children:"Amount due:"}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:at(n.items.reduce((function(e,n){return n.amount+e}),0))})]})]})},ct=function(e){var n,t=e.orgId,r=e.seats,a=e.onBack,i=e.onConfirm,o=function(e){var n=(0,c.Z)({},qn,e);return h.a(jn,n)}({variables:{input:{orgId:t,product:{quantity:r}}}}),s=o.data,u=o.loading,d="PreviewInvoiceOutput"===(null===s||void 0===s||null===(n=s.previewInvoice)||void 0===n?void 0:n.__typename)&&s.previewInvoice,m=d&&d.upcomingItems.filter((function(e){return"proration"===e.type})),v=d&&d.upcomingItems.filter((function(e){return"subscription"===e.type}));return v&&v.length>1&&Kn.warn("More than one subscription group can not exist"),(0,l.tZ)(L.Z,{children:u?(0,l.tZ)(L.Z,{css:q.l0.align.center,children:(0,l.tZ)(fe.Z,{size:32})}):(0,l.BX)(L.Z,{css:[q.l0.colWithGap(48)],children:[(0,l.tZ)(V.h,{level:1,variant:"headerDefault",children:"Preview Subscription Changes"}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(16)],children:[d?d.currentItems.map((function(e){return(0,l.BX)(L.Z,{css:[q.l0.colWithGap(8),q.l0.p(8),{border:"1px solid ".concat(q.TV.outlineDefault),borderRadius:q.TV.borderRadiusDefault}],children:[(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(4),q.l0.align.baseline],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"Current billing period:"}),(0,l.BX)(V.x,{css:{color:q.TV.foregroundDimmer},children:["(",ot(e.periodStart)," -"," ",ot(e.periodEnd),")"]})]}),e.items.map((function(n){return(0,l.tZ)(L.Z,{css:[q.l0.colWithGap(4)],children:(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{children:"proration"===e.type?n.amount>0?"Charge for ".concat(n.quantity," seats:"):"Credit for ".concat(n.quantity," seats:"):n.description}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:at(n.amount)})]})})}))]})})):null,m?m.map((function(e){return(0,l.tZ)(lt,{group:e})})):null,v?v.map((function(e){return(0,l.tZ)(st,{group:e})})):null,(0,l.BX)(L.Z,{css:q.l0.colWithGap(8),children:[(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"Total amount due next billing period:"}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:d?rt(d.total>0?d.total:0):null})]}),d&&0!==d.balance?(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{children:"Remaining balance after next billing period:"}),(0,l.tZ)(V.x,{children:d?at(d.balance):null})]}):null,(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.baseline],children:[(0,l.tZ)(V.x,{children:"You will be billed on:"}),(0,l.tZ)(V.x,{children:d?ot(d.chargeDate):null})]})]})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Back",type:"button",onClick:function(){return a()}}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(ze.Z,{}),disabled:u,text:"Confirm Changes",colorway:"primary",type:"submit",onClick:function(){return i()}})]})]})})},ut=function(e){var n,t,r,a,o=e.orgId,u=e.seats,d=e.onUpdated,m=(0,i.Z)(function(e){var n=(0,c.Z)({},qn,e);return B.D($n,n)}({variables:{input:{orgId:o,product:{quantity:u}}},onCompleted:function(e){"UpdateSubscriptionOutput"===e.updateSubscription.__typename&&d()}}),2),h=m[0],v=m[1],g=v.data,p=v.loading,Z=v.called;s.useEffect((function(){Z||h()}),[]);var f=g&&"UpdateSubscriptionOutput"===(null===(n=g.updateSubscription)||void 0===n?void 0:n.__typename)&&g.updateSubscription,b=g&&("UserError"===(null===(t=g.updateSubscription)||void 0===t?void 0:t.__typename)||"NotFoundError"===(null===(r=g.updateSubscription)||void 0===r?void 0:r.__typename)||"UnauthorizedError"===(null===(a=g.updateSubscription)||void 0===a?void 0:a.__typename))&&g.updateSubscription.message;return(0,l.tZ)(L.Z,{children:p?(0,l.tZ)(L.Z,{css:q.l0.align.center,children:(0,l.tZ)(fe.Z,{size:32})}):(0,l.BX)(L.Z,{children:[b?(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.tZ)(V.h,{variant:"headerDefault",level:1,children:"An error occurred"}),(0,l.tZ)(V.x,{children:b})]}):null,f?(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.tZ)(V.h,{variant:"headerDefault",level:1,children:"Successfully updated subscription"}),(0,l.tZ)(V.x,{multiline:!0,children:"All subscriptions changes, including any charges or credits, will appear on your next invoice."})]}):null]})})},dt=function(e){var n=e.orgId,t=e.isOpen,r=e.onRequestClose,a=e.onSubscriptionUpdate,o=(0,i.Z)(s.useState(Yn.SelectSeats),2),c=o[0],u=o[1],d=(0,i.Z)(s.useState(),2),m=d[0],h=d[1];s.useEffect((function(){t&&(0,Hn.j)(Hn.U3.TEAMS_UPDATE_PLAN_MODAL_OPENED)}),[t]);var v,g=s.useCallback((function(){u(Yn.SelectSeats),h(void 0),r()}),[r]);return c===Yn.SelectSeats?v=(0,l.tZ)(tt,{orgId:n,seats:m,onCancel:g,onPreview:function(e){h(e),u(Yn.PreviewInvoice)}}):c===Yn.PreviewInvoice&&m?v=(0,l.tZ)(ct,{orgId:n,seats:m,onBack:function(){return u(Yn.SelectSeats)},onConfirm:function(){return u(Yn.Confirmation)}}):c===Yn.Confirmation&&m&&(v=(0,l.tZ)(ut,{orgId:n,seats:m,onUpdated:a})),(0,l.tZ)(W.Z,{isOpen:t,onRequestClose:g,maxWidth:600,children:v})},mt=t(49051),ht="@media screen and (min-width: ".concat(ne.j.tabletMin,"px)"),vt=function(e){var n=e.organization,t=e.onRemove,r=(0,i.Z)(function(e){var n=(0,c.Z)({},ve,e);return de.t(pe,n)}({variables:{orgId:n.id}}),2),a=r[0],o=r[1],u=o.loading,d=o.data,m=o.refetch,h=o.called,v="TeamOrganization"===(null===d||void 0===d?void 0:d.teamOrganization.__typename)&&d.teamOrganization.unsubscribedTeams||[];return s.useEffect((function(){h&&m&&n.unsubscribedTeamsCount!==v.length&&m(),h||n.unsubscribedTeamsCount===v.length||a()}),[n.unsubscribedTeamsCount,v.length,a,m,h]),n.unsubscribedTeamsCount?(0,l.BX)(L.Z,{css:[{width:"100%"}],children:[(0,l.tZ)(tn.Z,{text:"".concat(n.unsubscribedTeamsCount," ").concat(1===n.unsubscribedTeamsCount?"team":"teams"," available to join")}),(0,l.BX)(L.Z,{children:[u?(0,l.tZ)(L.Z,{css:[q.l0.flex.row,q.l0.justify.center,q.l0.py(16)],children:(0,l.tZ)(fe.Z,{})}):null,v.map((function(e){return(0,l.tZ)(ue,{canJoinTeam:!0,team:e,onRemove:function(){m&&m(),t()}},e.id)}))]})]}):null},gt=function(e){var n=e.organization,t=e.onRemove,r=(0,i.Z)(function(e){var n=(0,c.Z)({},ve,e);return de.t(ge,n)}({variables:{orgId:n.id}}),2),a=r[0],o=r[1],u=o.loading,d=o.data,m=o.refetch,h=o.called,v="TeamOrganization"===(null===d||void 0===d?void 0:d.teamOrganization.__typename)&&d.teamOrganization.archivedTeams||[];return s.useEffect((function(){h&&m&&n.archivedTeamsCount!==v.length&&m(),h||n.archivedTeamsCount===v.length||a()}),[n.archivedTeamsCount,v.length,a,m,h]),n.archivedTeamsCount?(0,l.BX)(L.Z,{css:[{width:"100%"}],children:[(0,l.tZ)(tn.Z,{text:"Archived: ".concat(n.archivedTeamsCount," ").concat((0,Mn.Z)("team",n.archivedTeamsCount))}),(0,l.BX)(L.Z,{children:[u?(0,l.tZ)(L.Z,{css:[q.l0.flex.row,q.l0.justify.center,q.l0.py(16)],children:(0,l.tZ)(fe.Z,{})}):null,v.map((function(e){return(0,l.tZ)(ue,{team:e,onRemove:function(){m&&m(),t()}},e.id)}))]})]}):null},pt=function(e){var n,t,r,o,c=e.title,u=e.teams,d=e.organization,m=e.canCreateNewTeam,h=e.onRemove,v=e.onSubscriptionUpdate,g=e.currentUserId,p=(0,Ze.useRouter)(),Z=(0,i.Z)(s.useState(!1),2),f=Z[0],b=Z[1],T=(0,i.Z)(s.useState(!1),2),y=T[0],O=T[1],C=s.useContext(be.G).isGooglePlayStoreTWA,w=Number(p.query.addTeamForOrg)===(null===d||void 0===d?void 0:d.id)?"CreateTeam":null,x=(0,i.Z)(s.useState(w),2),z=x[0],B=x[1],I=(null===d||void 0===d?void 0:d.capabilities)?d.capabilities.memberCount:0,E=null;(null===d||void 0===d||null===(n=d.capabilities)||void 0===n?void 0:n.isBusinessPlan)&&d.isAdmin&&(E=null===d||void 0===d||null===(o=d.subscription)||void 0===o?void 0:o.quantity);var P=(null===d||void 0===d||null===(t=d.capabilities)||void 0===t?void 0:t.isExpired)&&d.isAdmin,_=function(){return B(null)},D=m||d&&Boolean(null===d||void 0===d?void 0:d.archivedTeamsCount);return(0,l.BX)(je.Z,{css:[q.l0.borderRadius(8),q.l0.backgroundColor.backgroundDefault,!d&&q.l0.pt(16),{width:"100%",border:"1px solid ".concat(q.TV.backgroundHighest),overflow:"hidden"}],elevated:!0,children:[d?(0,l.tZ)(L.Z,{css:[q.l0.p(16)],children:(0,l.BX)(L.Z,{children:[(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.flex.grow(1),q.l0.justify.spaceBetween,q.l0.mb(16)],children:[(0,l.tZ)(V.h,{level:3,variant:"headerDefault",css:[q.l0.flex.shrink(2),q.l0.pt(8)],children:c}),(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center],children:[(null===d||void 0===d?void 0:d.isAdmin)?(0,l.tZ)(ae.Z,{alt:"Open organization managment",onClick:function(){return B("OrgSettings")},size:28,css:[q.l0.p(8),q.l0.mr(4)],children:(0,l.tZ)(pn.Z,{})}):null,d?(0,l.tZ)(Zn,{organization:d,onMenuItemSelected:function(e){B(e)}}):null]})]}),(0,l.BX)(L.Z,{css:[q.l0.flex.row],children:[(0,l.tZ)(re.ZP,{text:E?"".concat(I,"/").concat(E," ").concat((0,Mn.Z)("User",E))+(C?"":": Add/Remove Seats"):"".concat(I," ").concat((0,Mn.Z)("User",I)),iconLeft:(0,l.tZ)(Te.Z,{}),disabled:!E||C,onClick:function(){return B("ChangePlan")},small:!0,css:[q.l0.mr(8),(0,a.Z)({display:"none"},ht,{display:"flex"})]}),(null===d||void 0===d?void 0:d.isAdmin)?(0,l.tZ)(re.ZP,{text:"You are an org ".concat(d.isOwner?"owner":"admin"),disabled:!0,small:!0,css:[q.l0.mr(8),(0,a.Z)({display:"none"},ht,{display:"flex"})]}):null,P?(0,l.tZ)(re.ZP,{text:(null===(r=d.capabilities)||void 0===r?void 0:r.isEducationPlan)?"Teacher Verification Required":"Subscription expired",disabled:!0,colorway:"negative",outlined:!0,small:!0,css:[q.l0.mr(8),(0,a.Z)({display:"none"},ht,{display:"flex"})]}):null]})]})}):null,c?(0,l.tZ)(tn.Z,{text:"You are a member of ".concat(u.length," ").concat((0,Mn.Z)("team",u.length)," on the ").concat(c," organization")}):null,(0,l.tZ)(L.Z,{children:u.length>0&&u.map((function(e,n){return(0,l.tZ)(ue,{team:e,onRemove:h,showBottomBorder:n!==u.length-1||D},e.id)}))}),D?(0,l.BX)(L.Z,{css:[q.l0.p(16),(0,a.Z)({},ht,{flexDirection:"row"})],children:[m?(0,l.tZ)(re.ZP,{iconLeft:(0,l.tZ)(Rn.Z,{}),text:"New team in ".concat(null!==c&&void 0!==c?c:"Friends"),outlined:!0,onClick:function(){B("CreateTeam")}}):null,!!(null===d||void 0===d?void 0:d.archivedTeamsCount)&&(0,l.tZ)(re.ZP,{css:[q.l0.justify.center,(0,a.Z)({marginTop:8},ht,{marginTop:0,marginLeft:8,border:"none",justifyContent:"flex-start"})],outlined:!0,text:"".concat(f?"Hide":"See"," archived Teams"),onClick:function(){return b(!f)},iconLeft:f?(0,l.tZ)(mt.ChevronUp,{}):(0,l.tZ)(mt.ChevronDown,{})}),!!(null===d||void 0===d?void 0:d.unsubscribedTeamsCount)&&(0,l.tZ)(re.ZP,{css:[q.l0.justify.center,(0,a.Z)({marginTop:8},ht,{marginTop:0,marginLeft:8,border:"none",justifyContent:"flex-start"})],outlined:!0,text:y?"Show only subscribed teams":"Show all teams on organization",onClick:function(){return O(!y)}})]}):null,d&&f?(0,l.tZ)(gt,{organization:d,onRemove:h}):null,d&&y?(0,l.tZ)(vt,{organization:d,onRemove:h}):null,(0,l.tZ)(W.Z,{isOpen:"CreateTeam"===z,onRequestClose:_,children:(0,l.tZ)(Nn,{org:d,onCancel:_,onCreate:function(e){_(),p.push({pathname:"/teamProfile",query:{teamname:e.username}},"/team/".concat(e.username))}})}),d&&d.isAdmin?(0,l.tZ)(dt,{orgId:d.id,isOpen:"ChangePlan"===z,onRequestClose:_,onSubscriptionUpdate:function(){return v&&v()}}):null,d&&g?(0,l.BX)(l.HY,{children:[(0,l.tZ)(On,{canBeDeleted:d.canBeDeleted,orgId:d.id,orgName:d.name,isOpen:"DeleteOrg"===z,onRequestClose:_,onOrgDeleted:h}),(0,l.tZ)(Bn,{orgId:d.id,currentUserId:g,orgName:d.name,isOpen:"LeaveOrg"===z,onRequestClose:_,onLeave:h}),(0,l.tZ)(gn,{isOpen:"OrgSettings"===z,setClose:_,organization:d,currentUserId:g})]}):null]})},Zt=t(19526),ft=t(49393),bt=t(85733),Tt=t(45304);function yt(){var e=(0,u.Z)(["\n  fragment CreateEduOrgFormOrganization on TeamOrganization {\n    id\n    name\n  }\n"]);return yt=function(){return e},e}function Ot(){var e=(0,u.Z)(["\n  mutation CreateNewTeamsEduOrganization(\n    $input: CreateNewTeamsEduOrganizationInput!\n  ) {\n    createNewTeamsEduOrganization(input: $input) {\n      __typename\n      ... on TeamOrganization {\n        id\n        ...CreateEduOrgFormOrganization\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ot=function(){return e},e}var Ct={},wt=(0,d.Ps)(yt()),xt=(0,d.Ps)(Ot(),wt);var zt=t(99950),Bt=function(){return(0,l.tZ)(L.Z,{css:{borderBottom:"1px solid ".concat(q.TV.outlineDimmest)}})},It=function(){return(0,l.BX)(L.Z,{css:[q.l0.colWithGap(8)],children:[(0,l.tZ)(V.h,{level:2,variant:"headerDefault",children:"Oops, there was a problem."}),(0,l.tZ)(V.x,{multiline:!0,children:"Looks like you\u2019re a student in a Teams for Education organization already. Organization creation is only for teachers and faculty of approved education organizations. If that\u2019s you, please log out and create a new teacher account. You will then be able to create a new organization."})]})},Et=[{value:"k12",children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(4)],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"K-12"}),(0,l.tZ)(V.x,{variant:"small",children:"Primary & secondary schools"})]})},{value:"higher_ed",children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(4)],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"Higher Education"}),(0,l.tZ)(V.x,{variant:"small",children:"Colleges & universities"})]})},{value:"Vocational School",children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(4)],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"Vocational School or Afterschool Program"}),(0,l.tZ)(V.x,{variant:"small",children:"Coding classes"})]})},{value:"Nonprofit",children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(4)],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"Nonprofit"}),(0,l.tZ)(V.x,{variant:"small",children:"Nonprofit organizations & clubs"})]})},{value:"Online Platform, Out-of-School Program",children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(4)],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"Online Platform, Out-of-School Program"}),(0,l.tZ)(V.x,{variant:"small",multiline:!0,children:"Independent educators through an online platform, afterschool programs, massive online open courses (MOOC), bootcamps"})]})},{value:"Curriculum and Content Provider",children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(4)],children:[(0,l.tZ)(V.x,{variant:"subheadDefault",children:"Curriculum and Content Provider"}),(0,l.tZ)(V.x,{variant:"small",children:"Professional curriculum developers"})]})}],Pt=function(e){var n=e.onCancel,t=e.onOrgCreate,a=e.onUnauthorizedError,u=(0,z.H)(),d=u("orgName"),m=(0,S.Z)().showError,h=(0,i.Z)(function(e){var n=(0,c.Z)({},Ct,e);return B.D(xt,n)}({onError:function(e){m(e.message)},onCompleted:function(e){"TeamOrganization"===e.createNewTeamsEduOrganization.__typename?t(e.createNewTeamsEduOrganization):"UserError"===e.createNewTeamsEduOrganization.__typename?m(e.createNewTeamsEduOrganization.message):"UnauthorizedError"===e.createNewTeamsEduOrganization.__typename&&a()}}),2),v=h[0],g=h[1].loading,p=(0,xe.Y)("",(function(e){return 0===e.length?{message:"Organization name cannot be blank"}:e.length>60?{message:"Organization name is limited ".concat(60," characters")}:void 0})),Z=(0,i.Z)(s.useState(!1),2),f=Z[0],b=Z[1],T=Boolean(p.error)||!f,y=(0,oe.iv)({borderRadius:"".concat(q.TV.space8," !important")}),O=(0,i.Z)(s.useState(Et[0].value),2),C=O[0],w=O[1],x=function(){var e=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return p.validate()?[2]:[4,v({variables:{input:{orgName:p.value}}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,l.BX)(L.Z,{css:[q.l0.colWithGap(32)],tag:"form",onSubmit:function(e){e.preventDefault(),x()},children:[(0,l.tZ)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:"New Education Organization"}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(12)],children:[(0,l.tZ)("label",{htmlFor:d,children:"Organization name"}),(0,l.tZ)(fn.ZP,{autoFocus:!0,required:!0,css:y,id:d,value:p.value,placeholder:"What should the Organization be called?",onBlur:p.handleBlur,validationResults:p.error?[{message:p.error.message,state:"error"}]:void 0,onChange:function(e){return p.setValue(e.currentTarget.value)},disabled:g})]}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(12)],children:[(0,l.tZ)(V.x,{variant:"text",children:"Type of organization"}),(0,l.tZ)(zt.E,{name:u("institutionType"),onChange:function(e){return w(e.target.value)},value:C,css:q.l0.colWithGap(12),children:Et.map((function(e){return(0,l.BX)(l.HY,{children:[(0,l.tZ)(Bt,{}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12)],children:[(0,l.tZ)(zt.Y,{id:u(e.value),value:e.value}),(0,l.tZ)("label",{css:[q.l0.cursor.pointer],htmlFor:u(e.value),children:e.children})]})]})}))})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(8)],children:[(0,l.tZ)(Cn.Z,{id:u("confirmTeacher"),checked:f,onChange:function(){return b(!f)}}),(0,l.tZ)("label",{htmlFor:u("confirmTeacher"),children:"I confirm that I am using Teams for Education for educational purposes."})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",type:"button",onClick:n}),(0,l.tZ)(Un.ZP,{tooltip:"Please fix the errors above before checking out",isOpen:T,children:(0,l.tZ)(D.zx,{disabled:T||g,iconLeft:(0,l.tZ)(ze.Z,{}),text:"Create New Organization",colorway:"primary",type:"submit"})})]})]})},_t=function(e){var n=e.onCancel,t=e.onUpdate,r=e.canCreateEduTrial,a=(0,i.Z)(s.useState(),2),o=a[0],c=a[1],u=(0,i.Z)(s.useState(!1),2),d=u[0],m=u[1],h=(0,i.Z)(s.useState(!1),2),v=h[0],g=h[1];return o||v?v?(0,l.tZ)(It,{}):!d&&o?(0,l.BX)(L.Z,{css:[q.l0.colWithGap(32)],children:[(0,l.BX)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:["Created ",o.name," Organization"]}),(0,l.BX)(V.x,{multiline:!0,children:["You have successfully created your ",o.name," trial Organization. Now you can create your first Team in the Organization."]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",type:"button",onClick:n}),(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(ze.Z,{}),text:"Create Team",colorway:"primary",onClick:function(){return m(!0)}})]})]}):(0,l.tZ)(Nn,{org:o,onCancel:n,onCreate:t}):(0,l.tZ)(Pt,{canCreateEduTrial:r,onCancel:n,onOrgCreate:function(e){c(e),t()},onUnauthorizedError:function(){return g(!0)}})},Dt=function(e){var n=e.onCancel,t=(0,z.H)(),r=t("orgName"),a=t("orgSeats"),i=(0,Ze.useRouter)(),o=(0,xe.Y)("",(function(e){return 0===e.length?{message:"Organization name cannot be blank"}:e.length>60?{message:"Organization name is limited ".concat(60," characters")}:void 0})),s=(0,xe.Y)("10",(function(e){var n=parseInt(e,10);return Number.isNaN(n)?{message:"Please enter a whole number"}:n<1?{message:"Please enter a whole number greater than or equal to ".concat(1)}:n>999?{message:"Please enter a whole number less than or equal to ".concat(999)}:void 0})),c=Boolean(o.error||s.error),u=parseInt(s.value,10),d="x $".concat(15,"/seat");!Number.isNaN(u)&&u>=1&&u<=999&&(d+=" = $".concat(15*u,"/month"));var m=(0,oe.iv)({borderRadius:"".concat(q.TV.space8," !important")});return(0,l.BX)(L.Z,{css:[q.l0.colWithGap(48)],tag:"form",onSubmit:function(e){e.preventDefault();var n=o.validate(),t=s.validate();if(!n&&!t){(0,Hn.j)(Hn.U3.PLAN_SELECTED,{planID:"teams_pro_beta_per_seat_1mo_usd",source:i.pathname});var r="/stripe-checkout/teams_pro/beta_per_seat_1mo_usd"+"?quantity=".concat(s.value,"&orgName=").concat(encodeURIComponent(o.value));window.location.href=r}},children:[(0,l.tZ)(V.h,{variant:"headerDefault",level:2,css:q.l0.maxWidth("100%"),children:"New pro Organization"}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(12)],children:[(0,l.tZ)("label",{htmlFor:r,children:"Organization name"}),(0,l.tZ)(fn.ZP,{autoFocus:!0,required:!0,css:m,id:r,value:o.value,placeholder:"What should the Organization be called?",onBlur:o.handleBlur,validationResults:o.error?[{message:o.error.message,state:"error"}]:void 0,onChange:function(e){return o.setValue(e.currentTarget.value)}})]}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(12)],children:[(0,l.tZ)("label",{htmlFor:a,children:"Number of seats"}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(8),q.l0.align.center],children:[(0,l.tZ)(L.Z,{children:(0,l.tZ)(fn.ZP,{css:m,id:a,required:!0,value:s.value,onBlur:s.handleBlur,validationResults:s.error?[{message:s.error.message,state:"error"}]:void 0,onChange:function(e){return s.setValue(e.currentTarget.value)}})}),(0,l.tZ)(V.x,{variant:"subheadDefault",children:d})]})]}),(0,l.BX)(L.Z,{css:[q.l0.rowWithGap(12),q.l0.justify.end],children:[(0,l.tZ)(D.zx,{text:"Cancel",type:"button",onClick:n}),(0,l.tZ)(Un.ZP,{tooltip:"Please fix the errors above before checking out",isOpen:c,children:(0,l.tZ)(D.zx,{iconLeft:(0,l.tZ)(ze.Z,{}),disabled:c,text:"Go to Checkout",colorway:"primary",type:"submit"})})]})]})},St=t(44044);function Xt(){var e=(0,Ze.useRouter)();return(0,l.BX)(L.Z,{css:[q.l0.p(16),q.l0.borderRadius(8),q.l0.flex.row,q.l0.justify.spaceBetween,q.l0.align.center,St.gU.filled,q.l0.backgroundColor.accentPrimaryDimmest],onClick:function(){e.push("/verify-teacher")},children:[(0,l.tZ)(V.x,{variant:"subheadDefault",css:[q.l0.maxWidth("80%")],children:"Please click here to verify your status as an approved educator."}),(0,l.tZ)(Un.ZP,{placement:"left",tooltip:"By verifying that you are an approved educator you will be able to create Teams for Education organizations and gain access to higher compute power for your teams.",children:(0,l.tZ)(kn.Z,{})})]})}var Ut=function(e){var n=e.text,t=e.onClick,r=e.disabled,a=void 0!==r&&r;return(0,l.tZ)(L.Z,{css:[q.l0.colWithGap(8),q.l0.align.start],children:(0,l.tZ)(re.ZP,{iconLeft:(0,l.tZ)(Rn.Z,{}),text:n,onClick:t,disabled:a})})},kt=function(e){var n=e.title,t=e.IconComponent;return(0,l.tZ)(L.Z,{children:(0,l.BX)(L.Z,{css:[q.l0.flex.row,q.l0.align.center],children:[(0,l.tZ)(L.Z,{children:t}),(0,l.tZ)(V.x,{css:[q.l0.px(8)],variant:"headerDefault",children:n}),(0,l.tZ)(L.Z,{css:{borderWidth:1,borderColor:"var(--outline-dimmest)",flexGrow:2}})]})})},Nt=function(e){var n=e.text,t=e.cta,r=e.onClick;return(0,l.tZ)(L.Z,{css:[q.l0.borderRadius(4),q.l0.p(16),q.l0.mb(32),q.l0.backgroundColor.backgroundDefault,{width:"100%",border:"1px solid ".concat(q.TV.backgroundHighest)}],children:(0,l.BX)(L.Z,{css:[q.l0.justify.center,q.l0.align.stretch],children:[(0,l.tZ)(L.Z,{css:[q.l0.flex.grow(1),q.l0.p(16),q.l0.textAlign.center],children:(0,l.tZ)(V.x,{multiline:!0,children:n})}),(0,l.tZ)(L.Z,{css:[q.l0.flex.row,q.l0.justify.center],children:(0,l.tZ)("a",{onClick:r,children:t})})]})})},Rt=function(e){var n=e.currentUserId,t=e.canCreateNewFreeTeam,r=e.canCreateEduTrial,a=e.freeTeams,o=e.educationTeamOrgs,c=e.businessTeamOrgs,u=e.onRemove,d=e.onUpdate,m=e.isPrivacyUser,h=e.showEducationVerificationBanner,v=(0,Ze.useRouter)(),g=(0,i.Z)(s.useState(null),2),p=g[0],Z=g[1],f=function(){return Z(null)};return(0,l.BX)(L.Z,{css:[q.l0.colWithGap(32)],children:[(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.tZ)(kt,{IconComponent:(0,l.tZ)(ft.Z,{size:24}),title:"Education"}),!m&&(0,l.tZ)(Ut,{text:"New Education Organization",onClick:function(){Z("CreateEduOrg")}}),h?(0,l.tZ)(Xt,{}):null,(0,l.tZ)(L.Z,{children:(0,l.tZ)(L.Z,{css:[q.l0.colWithGap(32)],children:o&&o.length?o.map((function(e){var t,r;return(0,l.tZ)(pt,{title:e.name,teams:e.teams,organization:e,canCreateNewTeam:(null===(t=e.userPermissions)||void 0===t?void 0:t.canCreateTeamsInOrg)&&(null===(r=e.capabilities)||void 0===r?void 0:r.canCreateNewTeam)&&!e.capabilities.isExpired,onRemove:u,onSubscriptionUpdate:d,currentUserId:n},e.id)})):(0,l.tZ)(Nt,{text:"Teams for Education is a place for teachers to create and manage student projects.",cta:"Try Teams for Education for free today",onClick:function(){return v.push("/teams/free-trial")}})})})]}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.tZ)(kt,{IconComponent:(0,l.tZ)(bt.Z,{size:24}),title:"Pro"}),!m&&(0,l.tZ)(Ut,{text:"New Pro Organization",onClick:function(){return Z("CreateProOrg")}}),(0,l.tZ)(Zt.gC,{spacing:4,children:c&&c.length?c.map((function(e){var t,r;return(0,l.tZ)(pt,{title:e.name,teams:e.teams,organization:e,canCreateNewTeam:(null===(t=e.userPermissions)||void 0===t?void 0:t.canCreateTeamsInOrg)&&(null===(r=e.capabilities)||void 0===r?void 0:r.canCreateNewTeam)&&!e.capabilities.isExpired,onRemove:u,onSubscriptionUpdate:d,currentUserId:n},e.id)})):(0,l.tZ)(Nt,{text:"Teams Pro is a place for coworkers to create prototypes and develop products.",cta:"Learn more",onClick:function(){return v.push("/site/teams-pro")}})})]}),(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.tZ)(kt,{IconComponent:(0,l.tZ)(Tt.Z,{size:24}),title:"Friends"}),(0,l.tZ)(L.Z,{children:(0,l.BX)(V.x,{multiline:!0,children:["Free starter teams. Limited to 5 teams of up to 10 members. Everything is public. Less processing power. Upgrade to"," ",(0,l.tZ)(w(),{href:"/site/teams-pro",children:"Teams Pro"})," or"," ",(0,l.tZ)(w(),{href:"/site/teams-for-education",children:"Teams for Education"})," ","for more power."]})}),a&&a.length?(0,l.tZ)(pt,{teams:a,canCreateNewTeam:t,onRemove:u}):(0,l.tZ)(Nt,{text:"Teams for Friends lets up to 10 people collaborate on shared Repls for free.",cta:"Create your first team",onClick:function(){return v.push("/teams/add")}})]}),(0,l.tZ)(W.Z,{isOpen:"CreateEduOrg"===p,onRequestClose:f,children:(0,l.tZ)(_t,{onUpdate:d,onCancel:f,canCreateEduTrial:r})}),(0,l.tZ)(W.Z,{isOpen:"CreateProOrg"===p,onRequestClose:f,children:(0,l.tZ)(Dt,{onCancel:f})})]})},Mt=t(92876),Gt=t(57208),Wt=t(30019),Lt=t(22975),Vt="@media screen and (min-width: ".concat(ne.j.mobileMax,"px)"),qt=(0,oe.iv)((0,a.Z)({justifyContent:"center",padding:q.TV.space16},Vt,{padding:q.TV.space48})),At=function(){var e,n,t,r,a,o,u,d,m,v,g,p,Z=(0,Ze.useRouter)(),b=Z.query.checkout,T=(0,S.Z)().showError,O=function(e){var n=(0,c.Z)({},f,e);return h.a(y,n)}({onError:function(e){T((0,Gt.Z)(e.message)),Mt.Tb(e)}}),C=O.data,w=O.loading,x=O.refetch,z=(0,i.Z)(s.useState(Boolean(b)),2),B=z[0],I=z[1],E=function(){b&&Z.replace("/teamsDashboard","/teams",{shallow:!0}),I(!1)},P=null===C||void 0===C||null===(e=C.currentUser)||void 0===e?void 0:e.isPrivacyLimitedAccess;return(null===C||void 0===C||null===(n=C.currentUser)||void 0===n?void 0:n.hasTeamsKillswitch)?(0,l.tZ)(Lt.Z,{title:"Teams",children:(0,l.tZ)(L.Z,{css:qt,children:(0,l.tZ)(Wt.Z,{level:1,children:"Sorry for the inconvenience, Teams are temporarily unavailable."})})}):(0,l.BX)(Lt.Z,{title:"Teams",children:[B&&(0,l.tZ)(W.Z,{isOpen:B,onRequestClose:E,children:b.startsWith("teams_pro")?(0,l.tZ)(Dt,{onCancel:E}):(0,l.tZ)(_t,{onUpdate:function(){return x()},onCancel:E,canCreateEduTrial:Boolean(null===C||void 0===C||null===(t=C.currentUser)||void 0===t||null===(r=t.capabilities)||void 0===r?void 0:r.canCreateEduTrial)})}),(0,l.tZ)(je.Z,{css:q.l0.pageContent,children:(0,l.BX)(L.Z,{css:[q.l0.colWithGap(24)],children:[(0,l.tZ)(L.Z,{css:[q.l0.justify.spaceBetween],children:(0,l.tZ)(Wt.Z,{level:1,children:"My Teams"})}),w?(0,l.tZ)(L.Z,{css:[q.l0.justify.center,q.l0.align.center,q.l0.height("50vh")],className:"spinner-container",children:(0,l.tZ)(fe.Z,{})}):(0,l.tZ)(Rt,{currentUserId:null===C||void 0===C||null===(a=C.currentUser)||void 0===a?void 0:a.id,canCreateEduTrial:Boolean(null===C||void 0===C||null===(o=C.currentUser)||void 0===o||null===(u=o.capabilities)||void 0===u?void 0:u.canCreateEduTrial),canCreateNewFreeTeam:(null===C||void 0===C||null===(d=C.currentUser)||void 0===d?void 0:d.canCreateNewFreeTeam)||!1,freeTeams:(null===C||void 0===C||null===(m=C.currentUser)||void 0===m?void 0:m.freeTeams)||[],educationTeamOrgs:(null===C||void 0===C||null===(v=C.currentUser)||void 0===v?void 0:v.educationTeamOrgs)||[],businessTeamOrgs:(null===C||void 0===C||null===(g=C.currentUser)||void 0===g?void 0:g.proTeamOrgs)||[],onRemove:function(){return x()},onUpdate:function(){return x()},isPrivacyUser:Boolean(P),showEducationVerificationBanner:Boolean(null===C||void 0===C||null===(p=C.currentUser)||void 0===p?void 0:p.showVerifyTeacherBanner)})]})})]})};At.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,O.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var Ft=At},73359:function(e,n,t){"use strict";t.d(n,{t:function(){return c}});var r=t(70655),a=t(67294),i=t(14012),o=t(37887),l=t(66252),s=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function c(e,n){var t=(0,o.A)((0,l.x)(n&&n.client),e),c=(0,a.useRef)(),u=c.current?(0,i.J)(n,c.current):n,d=t.useQuery((0,r.__assign)((0,r.__assign)({},u),{skip:!c.current})),m=d.observable.options.initialFetchPolicy||t.getDefaultFetchPolicy(),h=Object.assign(d,{called:!!c.current}),v=(0,a.useMemo)((function(){for(var e={},n=function(n){var r=h[n];e[n]=function(){return c.current||(c.current=Object.create(null),t.forceUpdate()),r.apply(this,arguments)}},r=0,a=s;r<a.length;r++){n(a[r])}return e}),[]);return Object.assign(h,v),[(0,a.useCallback)((function(e){c.current=e?(0,r.__assign)((0,r.__assign)({},e),{fetchPolicy:e.fetchPolicy||m}):{fetchPolicy:m};var n=t.asyncUpdate().then((function(e){return Object.assign(e,v)}));return n.catch((function(){})),n}),[]),h]}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,5488,8966,7564,2995,8723,5567,1369,9774,2888,179],(function(){return n(97239),n(8930)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=teamsDashboard-77c2de1bedfc0d4c.js.map